{"version":3,"file":"utils.lwMhZX18.js","sources":["../../frontend/src/composables/useToast.js","../../frontend/src/utils/formatters.js"],"sourcesContent":["import { ref } from 'vue'\n\nconst toasts = ref([])\nlet nextId = 1\n\nexport function useToast() {\n  function toast({ title, description, variant = 'default', duration = 3000 }) {\n    const id = nextId++\n    const newToast = {\n      id,\n      title,\n      description,\n      variant,\n    }\n    \n    toasts.value.push(newToast)\n    \n    if (duration > 0) {\n      setTimeout(() => {\n        dismiss(id)\n      }, duration)\n    }\n    \n    return id\n  }\n  \n  function dismiss(id) {\n    const index = toasts.value.findIndex(t => t.id === id)\n    if (index > -1) {\n      toasts.value.splice(index, 1)\n    }\n  }\n  \n  function success(title, description) {\n    return toast({ title, description, variant: 'success' })\n  }\n  \n  function error(title, description) {\n    return toast({ title, description, variant: 'destructive' })\n  }\n  \n  function info(title, description) {\n    return toast({ title, description, variant: 'default' })\n  }\n  \n  return {\n    toasts,\n    toast,\n    dismiss,\n    success,\n    error,\n    info,\n  }\n}","export function formatDate(dateString) {\n  if (!dateString) return 'Never'\n  \n  const date = new Date(dateString)\n  const now = new Date()\n  const diffMs = now - date\n  const diffSecs = Math.floor(diffMs / 1000)\n  const diffMins = Math.floor(diffSecs / 60)\n  const diffHours = Math.floor(diffMins / 60)\n  const diffDays = Math.floor(diffHours / 24)\n  \n  // Show relative time for recent changes\n  if (diffSecs < 60) return 'Just now'\n  if (diffMins < 60) return `${diffMins} minute${diffMins === 1 ? '' : 's'} ago`\n  if (diffHours < 24) return `${diffHours} hour${diffHours === 1 ? '' : 's'} ago`\n  if (diffDays < 7) return `${diffDays} day${diffDays === 1 ? '' : 's'} ago`\n  \n  // For older dates, show the actual date with local timezone indicator\n  const options = {\n    month: 'short',\n    day: 'numeric',\n    year: date.getFullYear() !== now.getFullYear() ? 'numeric' : undefined,\n    hour: 'numeric',\n    minute: '2-digit',\n    hour12: true\n  }\n  \n  return date.toLocaleString(undefined, options)\n}\n\nexport function maskValue(value, maskPattern = '•••••') {\n  if (!value) return ''\n  \n  const str = String(value)\n  if (str.length <= 8) return maskPattern\n  \n  const firstTwo = str.substring(0, 2)\n  const lastTwo = str.substring(str.length - 2)\n  return `${firstTwo}${maskPattern}${lastTwo}`\n}\n\nexport function formatBytes(bytes) {\n  if (bytes === 0) return '0 Bytes'\n  \n  const k = 1024\n  const sizes = ['Bytes', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n  \n  return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i]\n}"],"names":["toasts","ref","nextId","useToast","toast","title","description","variant","duration","id","newToast","value","push","setTimeout","dismiss","index","findIndex","t","splice","success","error","info","formatDate","dateString","date","Date","now","diffMs","diffSecs","Math","floor","diffMins","diffHours","diffDays","options","month","day","year","getFullYear","hour","minute","hour12","toLocaleString","maskValue","maskPattern","str","String","length","substring"],"mappings":"yCAEA,MAAMA,EAASC,EAAI,IACnB,IAAIC,EAAS,EAEN,SAASC,IACd,SAASC,GAAMC,MAAEA,EAAAC,YAAOA,EAAAC,QAAaA,EAAU,UAAAC,SAAWA,EAAW,MACnE,MAAMC,EAAKP,IACLQ,EAAW,CACfD,KACAJ,QACAC,cACAC,WAWF,OARAP,EAAOW,MAAMC,KAAKF,GAEdF,EAAW,GACbK,WAAW,KACTC,EAAQL,IACPD,GAGEC,CACT,CAEA,SAASK,EAAQL,GACf,MAAMM,EAAQf,EAAOW,MAAMK,UAAUC,GAAKA,EAAER,KAAOA,GAC/CM,GAAQ,GACVf,EAAOW,MAAMO,OAAOH,EAAO,EAE/B,CAcA,MAAO,CACLf,SACAI,QACAU,UACAK,QAhBF,SAAiBd,EAAOC,GACtB,OAAOF,EAAM,CAAEC,QAAOC,cAAaC,QAAS,WAC9C,EAeEa,MAbF,SAAef,EAAOC,GACpB,OAAOF,EAAM,CAAEC,QAAOC,cAAaC,QAAS,eAC9C,EAYEc,KAVF,SAAchB,EAAOC,GACnB,OAAOF,EAAM,CAAEC,QAAOC,cAAaC,QAAS,WAC9C,EAUF,CCrDO,SAASe,EAAWC,GACzB,IAAKA,EAAY,MAAO,QAExB,MAAMC,EAAO,IAAIC,KAAKF,GAChBG,MAAUD,KACVE,EAASD,EAAMF,EACfI,EAAWC,KAAKC,MAAMH,EAAS,KAC/BI,EAAWF,KAAKC,MAAMF,EAAW,IACjCI,EAAYH,KAAKC,MAAMC,EAAW,IAClCE,EAAWJ,KAAKC,MAAME,EAAY,IAGxC,GAAIJ,EAAW,GAAI,MAAO,WAC1B,GAAIG,EAAW,GAAI,MAAO,GAAGA,WAA+B,IAAbA,EAAiB,GAAK,UACrE,GAAIC,EAAY,GAAI,MAAO,GAAGA,SAA+B,IAAdA,EAAkB,GAAK,UACtE,GAAIC,EAAW,EAAG,MAAO,GAAGA,QAA4B,IAAbA,EAAiB,GAAK,UAGjE,MAAMC,EAAU,CACdC,MAAO,QACPC,IAAK,UACLC,KAAMb,EAAKc,gBAAkBZ,EAAIY,cAAgB,eAAY,EAC7DC,KAAM,UACNC,OAAQ,UACRC,QAAQ,GAGV,OAAOjB,EAAKkB,oBAAe,EAAWR,EACxC,CAEO,SAASS,EAAUhC,EAAOiC,EAAc,SAC7C,IAAKjC,EAAO,MAAO,GAEnB,MAAMkC,EAAMC,OAAOnC,GACnB,GAAIkC,EAAIE,QAAU,EAAG,OAAOH,EAI5B,MAAO,GAFUC,EAAIG,UAAU,EAAG,KAEbJ,IADLC,EAAIG,UAAUH,EAAIE,OAAS,IAE7C"}