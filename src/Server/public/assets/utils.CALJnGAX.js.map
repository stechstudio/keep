{"version":3,"file":"utils.CALJnGAX.js","sources":["../../frontend/src/composables/useToast.js","../../frontend/src/utils/formatters.js"],"sourcesContent":["import { ref } from 'vue'\n\nconst toasts = ref([])\nlet nextId = 1\n\nexport function useToast() {\n  function toast({ title, description, variant = 'default', duration = 3000 }) {\n    const id = nextId++\n    const newToast = {\n      id,\n      title,\n      description,\n      variant,\n    }\n    \n    toasts.value.push(newToast)\n    \n    if (duration > 0) {\n      setTimeout(() => {\n        dismiss(id)\n      }, duration)\n    }\n    \n    return id\n  }\n  \n  function dismiss(id) {\n    const index = toasts.value.findIndex(t => t.id === id)\n    if (index > -1) {\n      toasts.value.splice(index, 1)\n    }\n  }\n  \n  function success(title, description) {\n    return toast({ title, description, variant: 'success' })\n  }\n  \n  function error(title, description) {\n    return toast({ title, description, variant: 'destructive' })\n  }\n  \n  function info(title, description) {\n    return toast({ title, description, variant: 'default' })\n  }\n  \n  // Generic showToast function that accepts variant as second parameter\n  function showToast(title, variant = 'default', description = '') {\n    const variantMap = {\n      success: 'success',\n      error: 'destructive',\n      warning: 'warning',\n      info: 'default',\n      destructive: 'destructive',\n      default: 'default'\n    }\n    \n    return toast({ \n      title, \n      description, \n      variant: variantMap[variant] || 'default' \n    })\n  }\n  \n  return {\n    toasts,\n    toast,\n    dismiss,\n    success,\n    error,\n    info,\n    showToast,\n  }\n}","/**\n * Format a date string for display in the user's local timezone\n * Shows relative time for recent dates, absolute time with timezone for older dates\n * \n * @param {string|null} dateString - ISO date string or any parseable date format\n * @returns {string} Formatted date string\n */\nexport function formatDate(dateString) {\n  if (!dateString) return 'Never'\n  \n  const date = new Date(dateString)\n  const now = new Date()\n  const diffMs = now - date\n  const diffSecs = Math.floor(diffMs / 1000)\n  const diffMins = Math.floor(diffSecs / 60)\n  const diffHours = Math.floor(diffMins / 60)\n  const diffDays = Math.floor(diffHours / 24)\n  \n  // Show relative time for recent changes\n  if (diffSecs < 60) return 'Just now'\n  if (diffMins < 60) return `${diffMins} minute${diffMins === 1 ? '' : 's'} ago`\n  if (diffHours < 24) return `${diffHours} hour${diffHours === 1 ? '' : 's'} ago`\n  if (diffDays < 7) return `${diffDays} day${diffDays === 1 ? '' : 's'} ago`\n  \n  // For older dates, show the actual date with timezone abbreviation\n  const options = {\n    month: 'short',\n    day: 'numeric',\n    year: date.getFullYear() !== now.getFullYear() ? 'numeric' : undefined,\n    hour: 'numeric',\n    minute: '2-digit',\n    hour12: true,\n    timeZoneName: 'short'  // This adds the timezone abbreviation (e.g., \"EST\", \"PDT\")\n  }\n  \n  return date.toLocaleString(undefined, options)\n}\n\n/**\n * Mask a sensitive value for display\n * Matches PHP MasksValues trait behavior\n * \n * @param {string|null} value - The value to mask\n * @param {string} maskChar - Single character to use for masking (defaults to bullet)\n * @returns {string} The masked value\n */\nexport function maskValue(value, maskChar = '•') {\n  if (!value) return ''\n  \n  const str = String(value)\n  const length = str.length\n  \n  // Ensure maskChar is a single character\n  const char = (maskChar && maskChar.length === 1) ? maskChar : '•'\n  \n  // Short values always get generic mask (matching PHP MasksValues trait)\n  if (length <= 8) {\n    return char.repeat(4)\n  }\n  \n  // Show first 4 characters plus mask chars for remaining length\n  const masked = str.substring(0, 4) + char.repeat(length - 4)\n  \n  // Truncate long values (matching PHP MasksValues trait)\n  if (length <= 24) {\n    return masked\n  }\n  \n  return masked.substring(0, 24) + ` (${length} chars)`\n}\n\nexport function formatBytes(bytes) {\n  if (bytes === 0) return '0 Bytes'\n  \n  const k = 1024\n  const sizes = ['Bytes', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n  \n  return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i]\n}"],"names":["toasts","ref","nextId","useToast","toast","title","description","variant","duration","id","newToast","value","push","setTimeout","dismiss","index","findIndex","t","splice","success","error","info","showToast","warning","destructive","default","formatDate","dateString","date","Date","now","diffMs","diffSecs","Math","floor","diffMins","diffHours","diffDays","options","month","day","year","getFullYear","hour","minute","hour12","timeZoneName","toLocaleString","maskValue","maskChar","str","String","length","char","repeat","masked","substring"],"mappings":"yCAEA,MAAMA,EAASC,EAAI,IACnB,IAAIC,EAAS,EAEN,SAASC,IACd,SAASC,GAAMC,MAAEA,EAAAC,YAAOA,EAAAC,QAAaA,EAAU,UAAAC,SAAWA,EAAW,MACnE,MAAMC,EAAKP,IACLQ,EAAW,CACfD,KACAJ,QACAC,cACAC,WAWF,OARAP,EAAOW,MAAMC,KAAKF,GAEdF,EAAW,GACbK,WAAW,KACTC,EAAQL,IACPD,GAGEC,CACT,CAEA,SAASK,EAAQL,GACf,MAAMM,EAAQf,EAAOW,MAAMK,UAAUC,GAAKA,EAAER,KAAOA,GAC/CM,GAAQ,GACVf,EAAOW,MAAMO,OAAOH,EAAO,EAE/B,CAgCA,MAAO,CACLf,SACAI,QACAU,UACAK,QAlCF,SAAiBd,EAAOC,GACtB,OAAOF,EAAM,CAAEC,QAAOC,cAAaC,QAAS,WAC9C,EAiCEa,MA/BF,SAAef,EAAOC,GACpB,OAAOF,EAAM,CAAEC,QAAOC,cAAaC,QAAS,eAC9C,EA8BEc,KA5BF,SAAchB,EAAOC,GACnB,OAAOF,EAAM,CAAEC,QAAOC,cAAaC,QAAS,WAC9C,EA2BEe,UAxBF,SAAmBjB,EAAOE,EAAU,UAAWD,EAAc,IAU3D,OAAOF,EAAM,CACXC,QACAC,cACAC,QAZiB,CACjBY,QAAS,UACTC,MAAO,cACPG,QAAS,UACTF,KAAM,UACNG,YAAa,cACbC,QAAS,WAMWlB,IAAY,WAEpC,EAWF,CCjEO,SAASmB,EAAWC,GACzB,IAAKA,EAAY,MAAO,QAExB,MAAMC,EAAO,IAAIC,KAAKF,GAChBG,MAAUD,KACVE,EAASD,EAAMF,EACfI,EAAWC,KAAKC,MAAMH,EAAS,KAC/BI,EAAWF,KAAKC,MAAMF,EAAW,IACjCI,EAAYH,KAAKC,MAAMC,EAAW,IAClCE,EAAWJ,KAAKC,MAAME,EAAY,IAGxC,GAAIJ,EAAW,GAAI,MAAO,WAC1B,GAAIG,EAAW,GAAI,MAAO,GAAGA,WAA+B,IAAbA,EAAiB,GAAK,UACrE,GAAIC,EAAY,GAAI,MAAO,GAAGA,SAA+B,IAAdA,EAAkB,GAAK,UACtE,GAAIC,EAAW,EAAG,MAAO,GAAGA,QAA4B,IAAbA,EAAiB,GAAK,UAGjE,MAAMC,EAAU,CACdC,MAAO,QACPC,IAAK,UACLC,KAAMb,EAAKc,gBAAkBZ,EAAIY,cAAgB,eAAY,EAC7DC,KAAM,UACNC,OAAQ,UACRC,QAAQ,EACRC,aAAc,SAGhB,OAAOlB,EAAKmB,oBAAe,EAAWT,EACxC,CAUO,SAASU,EAAUrC,EAAOsC,EAAW,KAC1C,IAAKtC,EAAO,MAAO,GAEnB,MAAMuC,EAAMC,OAAOxC,GACbyC,EAASF,EAAIE,OAGbC,EAAQJ,GAAgC,IAApBA,EAASG,OAAgBH,EAAW,IAG9D,GAAIG,GAAU,EACZ,OAAOC,EAAKC,OAAO,GAIrB,MAAMC,EAASL,EAAIM,UAAU,EAAG,GAAKH,EAAKC,OAAOF,EAAS,GAG1D,OAAIA,GAAU,GACLG,EAGFA,EAAOC,UAAU,EAAG,IAAM,KAAKJ,UACxC"}