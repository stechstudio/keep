{"version":3,"file":"app.Dkan59A7.js","sources":["../../frontend/src/components/Toast.vue","../../frontend/src/components/ToastContainer.vue","../../frontend/src/App.vue","../../frontend/src/components/VaultStageSelector.vue","../../frontend/src/components/SecretValue.vue","../../frontend/src/services/api.js","../../frontend/src/composables/useSecrets.js","../../frontend/src/components/SecretDialog.vue","../../frontend/src/components/RenameDialog.vue","../../frontend/src/components/CopyToStageDialog.vue","../../frontend/src/components/HistoryDialog.vue","../../frontend/src/components/DeleteConfirmDialog.vue","../../frontend/src/components/SecretActionsMenu.vue","../../frontend/src/components/ImportWizard.vue","../../frontend/src/components/ExportModal.vue","../../frontend/src/components/TableActionsMenu.vue","../../frontend/src/composables/useVault.js","../../frontend/src/components/SecretsTable.vue","../../frontend/src/components/DiffView.vue","../../frontend/src/components/DeleteConfirmationModal.vue","../../frontend/src/router.js","../../frontend/src/components/SettingsView.vue","../../frontend/src/main.js"],"sourcesContent":["<template>\n  <div\n    :class=\"[\n      'pointer-events-auto relative flex w-full items-center justify-between rounded-lg border p-4 shadow-lg transition-all',\n      variantClasses\n    ]\"\n  >\n    <div class=\"flex items-start space-x-3\">\n      <div v-if=\"icon\" class=\"flex-shrink-0 mt-0.5\">\n        <component :is=\"icon\" class=\"h-5 w-5\" />\n      </div>\n      <div class=\"flex-1\">\n        <div v-if=\"toast.title\" class=\"font-semibold text-sm\">\n          {{ toast.title }}\n        </div>\n        <div v-if=\"toast.description\" class=\"text-sm mt-1 opacity-90\">\n          {{ toast.description }}\n        </div>\n      </div>\n    </div>\n    <button\n      @click=\"$emit('dismiss', toast.id)\"\n      class=\"flex-shrink-0 ml-4 inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors hover:bg-accent\"\n    >\n      <svg class=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n      </svg>\n    </button>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\n\nconst props = defineProps({\n  toast: {\n    type: Object,\n    required: true\n  }\n})\n\ndefineEmits(['dismiss'])\n\nconst variantClasses = computed(() => {\n  const variants = {\n    default: 'bg-card border-border text-card-foreground',\n    success: 'bg-green-950 border-green-900 text-green-100',\n    destructive: 'bg-red-950 border-red-900 text-red-100',\n  }\n  return variants[props.toast.variant] || variants.default\n})\n\nconst icon = computed(() => {\n  if (props.toast.variant === 'success') {\n    return {\n      template: `\n        <svg class=\"text-green-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\n        </svg>\n      `\n    }\n  }\n  if (props.toast.variant === 'destructive') {\n    return {\n      template: `\n        <svg class=\"text-red-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n        </svg>\n      `\n    }\n  }\n  return null\n})\n</script>","<template>\n  <div class=\"fixed bottom-0 right-0 z-50 p-4 space-y-4 max-w-md w-full pointer-events-none\">\n    <TransitionGroup name=\"toast\" tag=\"div\">\n      <Toast\n        v-for=\"toast in toasts\"\n        :key=\"toast.id\"\n        :toast=\"toast\"\n        @dismiss=\"dismiss\"\n      />\n    </TransitionGroup>\n  </div>\n</template>\n\n<script setup>\nimport { useToast } from '../composables/useToast'\nimport Toast from './Toast.vue'\n\nconst { toasts, dismiss } = useToast()\n</script>\n\n<style scoped>\n.toast-enter-active,\n.toast-leave-active {\n  transition: all 0.3s ease;\n}\n\n.toast-enter-from {\n  transform: translateX(100%);\n  opacity: 0;\n}\n\n.toast-leave-to {\n  transform: translateX(100%);\n  opacity: 0;\n}\n\n.toast-move {\n  transition: transform 0.3s ease;\n}\n</style>","<template>\n  <div class=\"min-h-screen bg-background text-foreground\">\n    <!-- Toast Notifications -->\n    <ToastContainer />\n    \n    <!-- Navigation Bar -->\n    <nav class=\"border-b border-border\">\n      <div class=\"max-w-full px-4 sm:px-6 lg:px-8\">\n        <div class=\"flex items-center justify-between h-16\">\n          <!-- Logo & Title -->\n          <div class=\"flex items-center w-1/3\">\n<!--            <svg class=\"w-8 h-8 mr-3 text-primary\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">-->\n<!--              <rect x=\"3\" y=\"11\" width=\"18\" height=\"10\" rx=\"2\" ry=\"2\"/>-->\n<!--              <path d=\"M7 11V7a5 5 0 0110 0v4\"/>-->\n<!--            </svg>-->\n            <div class=\"size-9 pl-3 pr-2 rounded bg-muted mr-3 flex items-center justify-center text-primary\">\n              <svg fill=\"none\" height=\"100%\" viewBox=\"0 0 59 70\" width=\"59\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m58.4476 69.14c-10.35 0-23.67-12.33-31.41-22.05-5.13-6.39-7.11-8.91-9.45-11.7l-4.32 4.32v25.29h-12.599982v-64.620005h12.599982v32.580005l31.5-32.580005h7.2l-24.21 24.570005z\" fill=\"currentColor\"/></svg>\n            </div>\n            <span class=\"text-xl font-semibold opacity-75\">{{ appName }} Secrets</span>\n          </div>\n\n          <!-- Pill Navigation -->\n          <div class=\"flex items-center space-x-2 bg-muted rounded-full p-1\">\n            <router-link\n              v-for=\"tab in tabs\"\n              :key=\"tab.id\"\n              :to=\"tab.path\"\n              v-slot=\"{ isActive }\"\n              custom\n            >\n              <button\n                @click=\"$router.push(tab.path)\"\n                :class=\"[\n                  'px-4 py-1.5 rounded-full text-sm font-medium transition-colors',\n                  isActive\n                    ? 'bg-background text-foreground shadow-sm'\n                    : 'text-muted-foreground hover:text-foreground'\n                ]\"\n              >\n                {{ tab.label }}\n              </button>\n            </router-link>\n          </div>\n          <div class=\"w-1/3 text-right\">\n            <a href=\"https://github.com/stechstudio/keep\" target=\"_blank\" class=\"text-white/50 hover:text-white\">Keep v{{ keepVersion }}</a>\n          </div>\n        </div>\n      </div>\n    </nav>\n\n    <!-- Main Content -->\n    <main class=\"max-w-full px-4 sm:px-6 lg:px-8 py-6\">\n      <router-view />\n    </main>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport ToastContainer from './components/ToastContainer.vue'\nimport logoUrl from './assets/logo.svg'\n\nconst tabs = [\n  { id: 'secrets', label: 'Secrets', path: '/secrets' },\n  { id: 'diff', label: 'Compare', path: '/diff' },\n  { id: 'settings', label: 'Settings', path: '/settings' }\n]\n\nconst appName = ref('Keep')\nconst keepVersion = ref('')\n\nonMounted(async () => {\n  await loadSettings()\n})\n\nasync function loadSettings() {\n  try {\n    const settings = await window.$api.getSettings()\n    appName.value = settings.app_name || 'Keep'\n    keepVersion.value = settings.keep_version || ''\n  } catch (error) {\n    console.error('Failed to load settings:', error)\n  }\n}\n</script>","<template>\n  <div class=\"flex items-center space-x-3\">\n    <!-- Vault Selector -->\n    <div class=\"relative\">\n      <button\n        @click=\"vaultOpen = !vaultOpen\"\n        class=\"flex items-center space-x-2 px-3 pl-0 py-1.5 transition-colors\"\n      >\n        <span>{{ vaultDisplay || 'Select Vault' }}</span>\n        <svg class=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n        </svg>\n      </button>\n      \n      <div v-if=\"vaultOpen\" class=\"absolute top-full mt-1 bg-popover border border-border rounded-md shadow-lg z-10\">\n        <div class=\"py-1\">\n          <button\n            v-for=\"v in vaults\"\n            :key=\"v.slug || v.name || v\"\n            @click=\"selectVault(v.slug || v.name || v)\"\n            :class=\"[\n              'w-full text-left px-3 py-2 text-sm hover:bg-accent transition-colors whitespace-nowrap',\n              vault === (v.slug || v.name || v) ? 'bg-white/10' : ''\n            ]\"\n          >\n            {{ v.display || v }}\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"text-lg text-white/30 font-bold pr-3\">/</div>\n\n    <!-- Stage Selector -->\n    <div class=\"relative\">\n      <button\n        @click=\"stageOpen = !stageOpen\"\n        class=\"flex items-center space-x-2 px-3 pl-0 py-1.5 transition-colors\"\n      >\n        <span>{{ stage || 'Select Stage' }}</span>\n        <svg class=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n        </svg>\n      </button>\n      \n      <div v-if=\"stageOpen\" class=\"absolute top-full mt-1 w-48 bg-popover border border-border rounded-md shadow-lg z-10\">\n        <div class=\"py-1\">\n          <button\n            v-for=\"s in stages\"\n            :key=\"s\"\n            @click=\"selectStage(s)\"\n            :class=\"[\n              'w-full text-left px-3 py-2 text-sm hover:bg-accent transition-colors',\n              stage === s ? 'bg-white/10' : ''\n            ]\"\n          >\n            {{ s }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\n\nconst props = defineProps({\n  vault: String,\n  stage: String,\n  vaults: Array,\n  stages: Array\n})\n\nconst emit = defineEmits(['update:vault', 'update:stage'])\n\nconst vaultOpen = ref(false)\nconst stageOpen = ref(false)\n\n// Get display name for selected vault\nconst vaultDisplay = computed(() => {\n  if (!props.vault) return ''\n  const vaultObj = props.vaults?.find(v => \n    (typeof v === 'object' ? (v.slug || v.name) : v) === props.vault\n  )\n  return vaultObj?.display || props.vault\n})\n\nfunction selectVault(v) {\n  emit('update:vault', v)\n  vaultOpen.value = false\n}\n\nfunction selectStage(s) {\n  emit('update:stage', s)\n  stageOpen.value = false\n}\n\n// Close dropdowns when clicking outside\ndocument.addEventListener('click', (e) => {\n  if (!e.target.closest('.relative')) {\n    vaultOpen.value = false\n    stageOpen.value = false\n  }\n})\n</script>","<template>\n  <div class=\"flex items-center space-x-2\">\n    <span class=\"font-mono text-sm\">\n      {{ displayValue }}\n    </span>\n    <button\n      @click=\"$emit('toggle')\"\n      class=\"p-1 rounded hover:bg-muted transition-colors\"\n      :title=\"masked ? 'Show value' : 'Hide value'\"\n    >\n      <svg v-if=\"masked\" class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n      </svg>\n      <svg v-else class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\" />\n      </svg>\n    </button>\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\n\nconst props = defineProps({\n  value: String,\n  masked: {\n    type: Boolean,\n    default: true\n  }\n})\n\ndefineEmits(['toggle'])\n\nconst displayValue = computed(() => {\n  if (!props.masked) return props.value\n  \n  const value = props.value || ''\n  const length = value.length\n  \n  // Short values always get generic mask (matching PHP)\n  if (length <= 8) {\n    return '••••'\n  }\n  \n  // Show first 4 characters plus dots (matching PHP)\n  const masked = value.substring(0, 4) + '•'.repeat(length - 4)\n  \n  // Truncate long values (matching PHP)\n  if (length <= 24) {\n    return masked\n  }\n  \n  return masked.substring(0, 24) + ` (${length} chars)`\n})\n</script>","// API client for Keep server\nclass ApiClient {\n  constructor() {\n    this.baseUrl = ''\n    this.token = window.KEEP_AUTH_TOKEN\n  }\n\n  async request(path, options = {}) {\n    const response = await fetch(`${this.baseUrl}/api${path}`, {\n      ...options,\n      headers: {\n        'X-Auth-Token': this.token,\n        'Content-Type': 'application/json',\n        ...options.headers,\n      },\n    })\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({ error: 'Request failed' }))\n      throw new Error(error.error || `HTTP ${response.status}`)\n    }\n\n    return response.json()\n  }\n\n  // Secrets\n  async listSecrets(vault, stage, unmask = false) {\n    return this.request(`/secrets?vault=${vault}&stage=${stage}&unmask=${unmask}`)\n  }\n\n  async getSecret(key, vault, stage, unmask = false) {\n    return this.request(`/secrets/${encodeURIComponent(key)}?vault=${vault}&stage=${stage}&unmask=${unmask}`)\n  }\n\n  async createSecret(key, value, vault, stage) {\n    return this.request('/secrets', {\n      method: 'POST',\n      body: JSON.stringify({ key, value, vault, stage })\n    })\n  }\n\n  async updateSecret(key, value, vault, stage) {\n    return this.request(`/secrets/${encodeURIComponent(key)}`, {\n      method: 'PUT',\n      body: JSON.stringify({ value, vault, stage })\n    })\n  }\n\n  async deleteSecret(key, vault, stage) {\n    return this.request(`/secrets/${encodeURIComponent(key)}`, {\n      method: 'DELETE',\n      body: JSON.stringify({ vault, stage })\n    })\n  }\n\n  async renameSecret(oldKey, newKey, vault, stage) {\n    return this.request(`/secrets/${encodeURIComponent(oldKey)}/rename`, {\n      method: 'POST',\n      body: JSON.stringify({ newKey, vault, stage })\n    })\n  }\n\n  async copySecretToStage(key, targetStage, targetVault, sourceStage, sourceVault) {\n    return this.request(`/secrets/${encodeURIComponent(key)}/copy-to-stage?vault=${sourceVault}&stage=${sourceStage}`, {\n      method: 'POST',\n      body: JSON.stringify({ targetStage, targetVault })\n    })\n  }\n\n  async searchSecrets(query, vault, stage, unmask = false) {\n    return this.request(`/search?q=${encodeURIComponent(query)}&vault=${vault}&stage=${stage}&unmask=${unmask}`)\n  }\n\n  async getSecretHistory(key, vault, stage, limit = 10, unmask = false) {\n    return this.request(`/secrets/${encodeURIComponent(key)}/history?vault=${vault}&stage=${stage}&limit=${limit}&unmask=${unmask}`)\n  }\n\n  // Settings & Config\n  async getSettings() {\n    return this.request('/settings')\n  }\n\n  async updateSettings(settings) {\n    return this.request('/settings', {\n      method: 'PUT',\n      body: JSON.stringify(settings)\n    })\n  }\n\n  // Vaults & Stages\n  async listVaults() {\n    return this.request('/vaults')\n  }\n\n  async addVault(vault) {\n    return this.request('/vaults', {\n      method: 'POST',\n      body: JSON.stringify(vault)\n    })\n  }\n\n  async updateVault(slug, vault) {\n    return this.request(`/vaults/${slug}`, {\n      method: 'PUT',\n      body: JSON.stringify(vault)\n    })\n  }\n\n  async deleteVault(slug) {\n    return this.request(`/vaults/${slug}`, {\n      method: 'DELETE'\n    })\n  }\n\n  async listStages() {\n    return this.request('/stages')\n  }\n\n  async addStage(stage) {\n    return this.request('/stages', {\n      method: 'POST',\n      body: JSON.stringify({ stage })\n    })\n  }\n\n  async removeStage(stage) {\n    return this.request('/stages', {\n      method: 'DELETE',\n      body: JSON.stringify({ stage })\n    })\n  }\n\n  async verifyVaults() {\n    return this.request('/verify', { method: 'POST' })\n  }\n\n  // Diff & Export\n  async getDiff(stages = null, vaults = null) {\n    let query = '/diff?'\n    if (stages) query += `stages=${stages.join(',')}&`\n    if (vaults) query += `vaults=${vaults.join(',')}`\n    return this.request(query)\n  }\n\n  async exportSecrets(vault, stage, format = 'env') {\n    return this.request('/export', {\n      method: 'POST',\n      body: JSON.stringify({ vault, stage, format })\n    })\n  }\n\n  // Import\n  async analyzeImport({ content, vault, stage, only = null, except = null }) {\n    return this.request('/import/analyze', {\n      method: 'POST',\n      body: JSON.stringify({ content, vault, stage, only, except })\n    })\n  }\n\n  async executeImport({ content, vault, stage, strategy, only = null, except = null, dry_run = false }) {\n    return this.request('/import/execute', {\n      method: 'POST',\n      body: JSON.stringify({ content, vault, stage, strategy, only, except, dry_run })\n    })\n  }\n}\n\nexport const api = new ApiClient()","import { ref } from 'vue'\nimport { api } from '../services/api'\n\nexport function useSecrets() {\n  const secrets = ref([])\n  const loading = ref(false)\n  const error = ref(null)\n\n  async function loadSecrets(vault, stage, unmask = false) {\n    loading.value = true\n    error.value = null\n    try {\n      const response = await api.listSecrets(vault, stage, unmask)\n      secrets.value = response.secrets\n      return secrets.value\n    } catch (err) {\n      error.value = err.message\n      secrets.value = []\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function createSecret(key, value, vault, stage) {\n    loading.value = true\n    error.value = null\n    try {\n      const response = await api.createSecret(key, value, vault, stage)\n      // Don't call loadSecrets here - let the component handle refresh\n      return response\n    } catch (err) {\n      error.value = err.message\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function updateSecret(key, value, vault, stage) {\n    loading.value = true\n    error.value = null\n    try {\n      const response = await api.updateSecret(key, value, vault, stage)\n      // Don't call loadSecrets here - let the component handle refresh\n      return response\n    } catch (err) {\n      error.value = err.message\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function deleteSecret(key, vault, stage) {\n    loading.value = true\n    error.value = null\n    try {\n      const response = await api.deleteSecret(key, vault, stage)\n      // Don't call loadSecrets here - let the component handle refresh\n      return response\n    } catch (err) {\n      error.value = err.message\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function renameSecret(oldKey, newKey, vault, stage) {\n    loading.value = true\n    error.value = null\n    try {\n      const response = await api.renameSecret(oldKey, newKey, vault, stage)\n      // Don't call loadSecrets here - let the component handle refresh\n      return response\n    } catch (err) {\n      error.value = err.message\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function copySecretToStage(key, targetStage, targetVault, sourceStage, sourceVault) {\n    loading.value = true\n    error.value = null\n    try {\n      const response = await api.copySecretToStage(\n        key, targetStage, targetVault, sourceStage, sourceVault\n      )\n      return response\n    } catch (err) {\n      error.value = err.message\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function searchSecrets(query, vault, stage, unmask = false) {\n    loading.value = true\n    error.value = null\n    try {\n      const response = await api.searchSecrets(query, vault, stage, unmask)\n      secrets.value = response.secrets\n      return secrets.value\n    } catch (err) {\n      error.value = err.message\n      secrets.value = []\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function getSecretHistory(key, vault, stage, limit = 10, unmask = false) {\n    loading.value = true\n    error.value = null\n    try {\n      return await api.getSecretHistory(key, vault, stage, limit, unmask)\n    } catch (err) {\n      error.value = err.message\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  function clearError() {\n    error.value = null\n  }\n\n  return {\n    secrets,\n    loading,\n    error,\n    loadSecrets,\n    createSecret,\n    updateSecret,\n    deleteSecret,\n    renameSecret,\n    copySecretToStage,\n    searchSecrets,\n    getSecretHistory,\n    clearError\n  }\n}","<template>\n  <div class=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\" @click.self=\"$emit('close')\">\n    <div class=\"bg-card border border-border rounded-lg p-6 w-full max-w-md\">\n      <h2 class=\"text-lg font-semibold mb-4\">\n        {{ secret ? 'Edit Secret' : 'Add Secret' }}\n      </h2>\n      \n      <form @submit.prevent=\"save\">\n        <div class=\"space-y-4\">\n          <div>\n            <label class=\"block text-sm font-medium mb-1\">Key</label>\n            <input\n              v-model=\"form.key\"\n              type=\"text\"\n              :disabled=\"!!secret\"\n              :class=\"[\n                'w-full px-3 py-2 bg-input border rounded-md text-sm focus:outline-none focus:ring-2 disabled:opacity-50 disabled:cursor-not-allowed',\n                keyError ? 'border-red-500 focus:ring-red-500' : 'border-border focus:ring-ring'\n              ]\"\n              placeholder=\"SECRET_KEY\"\n              required\n            />\n            <p v-if=\"keyError\" class=\"mt-1 text-xs text-red-500\">{{ keyError }}</p>\n          </div>\n          \n          <div>\n            <label class=\"block text-sm font-medium mb-1\">Value</label>\n            <textarea\n              v-model=\"form.value\"\n              rows=\"4\"\n              class=\"w-full px-3 py-2 bg-input border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring font-mono\"\n              placeholder=\"Secret value...\"\n              required\n            />\n          </div>\n          \n          <div class=\"text-xs text-muted-foreground\">\n            Vault: <span class=\"font-medium\">{{ vault }}</span> • \n            Stage: <span class=\"font-medium\">{{ stage }}</span>\n          </div>\n          \n          <div v-if=\"saveError\" class=\"p-3 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900 rounded-md\">\n            <p class=\"text-sm text-red-600 dark:text-red-400\">{{ saveError }}</p>\n          </div>\n        </div>\n        \n        <div class=\"flex justify-end space-x-3 mt-6\">\n          <button\n            type=\"button\"\n            @click=\"$emit('close')\"\n            class=\"px-4 py-2 text-sm font-medium border border-border rounded-md hover:bg-muted transition-colors\"\n          >\n            Cancel\n          </button>\n          <button\n            type=\"submit\"\n            :disabled=\"!validateKey || loading\"\n            class=\"px-4 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {{ loading ? 'Saving...' : (secret ? 'Save' : 'Add') }}\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { reactive, watch, ref, computed } from 'vue'\nimport { useSecrets } from '../composables/useSecrets'\nimport { useToast } from '../composables/useToast'\n\nconst props = defineProps({\n  secret: Object,\n  vault: String,\n  stage: String,\n  initialKey: String\n})\n\nconst emit = defineEmits(['success', 'close'])\n\nconst toast = useToast()\nconst { createSecret, updateSecret } = useSecrets()\n\nconst form = reactive({\n  key: '',\n  value: ''\n})\n\nconst keyError = ref('')\nconst saveError = ref('')\nconst loading = ref(false)\n\n// Validate key on input\nconst validateKey = computed(() => {\n  if (!form.key) {\n    keyError.value = ''\n    return true\n  }\n  \n  // Check for spaces\n  if (form.key.includes(' ')) {\n    keyError.value = 'No spaces allowed'\n    return false\n  }\n  \n  // Check for other invalid characters (basic validation)\n  if (!/^[A-Za-z0-9_\\-/.]+$/.test(form.key)) {\n    keyError.value = 'Only letters, numbers, _, -, /, . allowed'\n    return false\n  }\n  \n  keyError.value = ''\n  return true\n})\n\nwatch(() => props.secret, (newSecret) => {\n  if (newSecret) {\n    form.key = newSecret.key\n    form.value = newSecret.value\n  } else {\n    form.key = props.initialKey || ''\n    form.value = ''\n  }\n}, { immediate: true })\n\nwatch(() => props.initialKey, (newKey) => {\n  if (!props.secret && newKey) {\n    form.key = newKey\n  }\n}, { immediate: true })\n\n// Trigger validation as user types\nwatch(() => form.key, () => {\n  validateKey.value\n})\n\nasync function save() {\n  if (!validateKey.value || loading.value) {\n    return\n  }\n  \n  saveError.value = ''\n  loading.value = true\n  \n  try {\n    if (props.secret) {\n      await updateSecret(form.key, form.value, props.vault, props.stage)\n      toast.success('Secret updated', `Secret '${form.key}' has been updated successfully`)\n    } else {\n      await createSecret(form.key, form.value, props.vault, props.stage)\n      toast.success('Secret created', `Secret '${form.key}' has been created successfully`)\n    }\n    emit('success')\n    emit('close')\n  } catch (error) {\n    // Display error in the modal\n    saveError.value = error.message || 'Failed to save secret'\n    console.error('Failed to save secret:', error)\n  } finally {\n    loading.value = false\n  }\n}\n</script>","<template>\n  <div class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n    <div class=\"bg-card border border-border rounded-lg p-6 w-96 max-w-full\">\n      <h2 class=\"text-lg font-semibold mb-4\">Rename Secret</h2>\n      \n      <div class=\"mb-4\">\n        <label class=\"block text-sm font-medium mb-2\">Current Key</label>\n        <input\n          :value=\"currentKey\"\n          disabled\n          class=\"w-full px-3 py-2 bg-muted border border-border rounded-md text-sm opacity-60\"\n        />\n      </div>\n      \n      <div class=\"mb-6\">\n        <label class=\"block text-sm font-medium mb-2\">New Key</label>\n        <input\n          v-model=\"newKey\"\n          @keyup.enter=\"handleRename\"\n          type=\"text\"\n          placeholder=\"Enter new key name\"\n          :class=\"[\n            'w-full px-3 py-2 bg-input border rounded-md text-sm focus:outline-none focus:ring-2',\n            (keyError || error) ? 'border-red-500 focus:ring-red-500' : 'border-border focus:ring-ring'\n          ]\"\n        />\n        <p v-if=\"keyError\" class=\"mt-1 text-xs text-red-500\">{{ keyError }}</p>\n        <p v-if=\"error && !keyError\" class=\"mt-2 text-sm text-red-500\">{{ error }}</p>\n      </div>\n      \n      <div class=\"flex justify-end space-x-3\">\n        <button\n          @click=\"$emit('close')\"\n          class=\"px-4 py-2 text-sm border border-border rounded-md hover:bg-accent transition-colors\"\n        >\n          Cancel\n        </button>\n        <button\n          @click=\"handleRename\"\n          :disabled=\"!isValid || loading\"\n          class=\"px-4 py-2 text-sm bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {{ loading ? 'Renaming...' : 'Rename' }}\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, watch } from 'vue'\nimport { useSecrets } from '../composables/useSecrets'\nimport { useToast } from '../composables/useToast'\n\nconst props = defineProps({\n  currentKey: {\n    type: String,\n    required: true\n  },\n  vault: {\n    type: String,\n    required: true\n  },\n  stage: {\n    type: String,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['close', 'success'])\n\nconst toast = useToast()\nconst { renameSecret } = useSecrets()\n\nconst newKey = ref(props.currentKey)\nconst keyError = ref('')\nconst error = ref('')\nconst loading = ref(false)\n\n// Validate key on input\nconst validateKey = computed(() => {\n  const key = newKey.value.trim()\n  \n  if (!key) {\n    keyError.value = ''\n    return false\n  }\n  \n  // Check if unchanged\n  if (key === props.currentKey) {\n    keyError.value = ''\n    return false\n  }\n  \n  // Check for spaces\n  if (key.includes(' ')) {\n    keyError.value = 'No spaces allowed'\n    return false\n  }\n  \n  // Check for other invalid characters (same validation as SecretDialog)\n  if (!/^[A-Za-z0-9_\\-/.]+$/.test(key)) {\n    keyError.value = 'Only letters, numbers, _, -, /, . allowed'\n    return false\n  }\n  \n  keyError.value = ''\n  return true\n})\n\nconst isValid = computed(() => {\n  return validateKey.value\n})\n\n// Trigger validation as user types\nwatch(() => newKey.value, () => {\n  validateKey.value\n})\n\nasync function handleRename() {\n  if (!isValid.value || loading.value) return\n  \n  error.value = ''\n  loading.value = true\n  \n  try {\n    await renameSecret(props.currentKey, newKey.value.trim(), props.vault, props.stage)\n    toast.success('Secret renamed', `Secret renamed from '${props.currentKey}' to '${newKey.value.trim()}'`)\n    emit('success')\n    emit('close')\n  } catch (err) {\n    // Display error in the modal\n    error.value = err.message || 'Failed to rename secret'\n    console.error('Failed to rename secret:', err)\n  } finally {\n    loading.value = false\n  }\n}\n</script>","<template>\n  <div class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n    <div class=\"bg-card border border-border rounded-lg p-6 w-96 max-w-full\">\n      <h2 class=\"text-lg font-semibold mb-4\">Copy Secret</h2>\n      \n      <div class=\"mb-4\">\n        <label class=\"block text-sm font-medium mb-2\">Secret Key</label>\n        <input\n          :value=\"secretKey\"\n          disabled\n          class=\"w-full px-3 py-2 bg-muted border border-border rounded-md text-sm opacity-60\"\n        />\n      </div>\n      \n      <div class=\"mb-4\">\n        <label class=\"block text-sm font-medium mb-2\">From</label>\n        <input\n          :value=\"`${currentVault} / ${currentStage}`\"\n          disabled\n          class=\"w-full px-3 py-2 bg-muted border border-border rounded-md text-sm opacity-60\"\n        />\n      </div>\n      \n      <div class=\"mb-6\">\n        <label class=\"block text-sm font-medium mb-2\">Copy To</label>\n        <select\n          v-model=\"targetCombination\"\n          class=\"w-full px-3 py-2 bg-input border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring\"\n        >\n          <option value=\"\">Select destination...</option>\n          <option\n            v-for=\"combo in availableCombinations\"\n            :key=\"combo.key\"\n            :value=\"combo.key\"\n            :disabled=\"combo.key === `${currentVault}:${currentStage}`\"\n          >\n            {{ combo.display }} / {{ combo.stage }}\n          </option>\n        </select>\n      </div>\n      \n      <div class=\"flex justify-end space-x-3\">\n        <button\n          @click=\"$emit('close')\"\n          class=\"px-4 py-2 text-sm border border-border rounded-md hover:bg-accent transition-colors\"\n        >\n          Cancel\n        </button>\n        <button\n          @click=\"handleCopy\"\n          :disabled=\"!targetCombination\"\n          class=\"px-4 py-2 text-sm bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          Copy Secret\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from 'vue'\n\nconst props = defineProps({\n  secretKey: {\n    type: String,\n    required: true\n  },\n  currentVault: {\n    type: String,\n    required: true\n  },\n  currentStage: {\n    type: String,\n    required: true\n  },\n  vaults: {\n    type: Array,\n    required: true\n  },\n  stages: {\n    type: Array,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['close', 'copy'])\n\nconst targetCombination = ref('')\n\nconst availableCombinations = computed(() => {\n  const combinations = []\n  for (const vault of props.vaults) {\n    for (const stage of props.stages) {\n      combinations.push({\n        key: `${vault.name}:${stage}`,\n        vault: vault.name,\n        display: vault.display,\n        stage: stage\n      })\n    }\n  }\n  return combinations\n})\n\nfunction handleCopy() {\n  if (targetCombination.value) {\n    const [targetVault, targetStage] = targetCombination.value.split(':')\n    emit('copy', { targetVault, targetStage })\n  }\n}\n</script>","<template>\n  <div class=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\" @click.self=\"$emit('close')\">\n    <div class=\"bg-card border border-border rounded-lg p-6 w-full max-w-4xl max-h-[80vh] flex flex-col\">\n      <div class=\"flex items-center justify-between mb-4\">\n        <div>\n          <h2 class=\"text-lg font-semibold\">Secret History</h2>\n          <p class=\"text-sm text-muted-foreground mt-1\">\n            {{ secretKey }} • {{ vault }} / {{ stage }}\n          </p>\n        </div>\n        <button\n          @click=\"$emit('close')\"\n          class=\"p-1 rounded-md hover:bg-muted transition-colors\"\n        >\n          <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"/>\n          </svg>\n        </button>\n      </div>\n      \n      <div v-if=\"loading\" class=\"flex-1 flex items-center justify-center\">\n        <div class=\"text-muted-foreground\">Loading history...</div>\n      </div>\n      \n      <div v-else-if=\"error\" class=\"flex-1 flex items-center justify-center\">\n        <div class=\"text-destructive\">{{ error }}</div>\n      </div>\n      \n      <div v-else-if=\"history.length === 0\" class=\"flex-1 flex items-center justify-center\">\n        <div class=\"text-muted-foreground\">No history found for this secret</div>\n      </div>\n      \n      <div v-else class=\"flex-1 overflow-y-auto\">\n        <table class=\"w-full\">\n          <thead class=\"sticky top-0 bg-card border-b border-border\">\n            <tr>\n              <th class=\"text-left px-4 py-2 text-xs font-medium text-muted-foreground uppercase tracking-wider\">Version</th>\n              <th class=\"text-left px-4 py-2 text-xs font-medium text-muted-foreground uppercase tracking-wider\">\n                <div class=\"flex items-center space-x-2\">\n                  <span>Value</span>\n                  <button\n                    @click=\"toggleUnmask\"\n                    class=\"p-1 rounded hover:bg-accent transition-colors\"\n                    :title=\"unmasked ? 'Hide values' : 'Show values'\"\n                  >\n                    <svg v-if=\"!unmasked\" class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n                    </svg>\n                    <svg v-else class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\" />\n                    </svg>\n                  </button>\n                </div>\n              </th>\n              <th class=\"text-left px-4 py-2 text-xs font-medium text-muted-foreground uppercase tracking-wider\">Type</th>\n              <th class=\"text-left px-4 py-2 text-xs font-medium text-muted-foreground uppercase tracking-wider\">Modified</th>\n            </tr>\n          </thead>\n          <tbody class=\"divide-y divide-border\">\n            <tr v-for=\"(entry, index) in history\" :key=\"`${entry.version}-${index}`\" class=\"hover:bg-muted/50 transition-colors\">\n              <td class=\"px-4 py-3 text-sm\">\n                <span class=\"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-accent\">\n                  v{{ entry.version }}\n                </span>\n                <span v-if=\"index === 0\" class=\"ml-2 inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-primary/10 text-primary\">\n                  Current\n                </span>\n              </td>\n              <td class=\"px-4 py-3 text-sm\">\n                <span class=\"font-mono\">{{ getMaskedValue(entry.value) }}</span>\n              </td>\n              <td class=\"px-4 py-3 text-sm text-muted-foreground\">\n                {{ entry.dataType }}\n              </td>\n              <td class=\"px-4 py-3\">\n                <div class=\"text-sm\">{{ entry.modifiedDate }}</div>\n                <div class=\"text-xs text-muted-foreground/70\">{{ entry.modifiedBy }}</div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      \n      <div class=\"flex justify-between items-center mt-4 pt-4 border-t border-border\">\n        <div class=\"text-sm text-muted-foreground\">\n          Showing {{ history.length }} revision{{ history.length === 1 ? '' : 's' }}\n        </div>\n        <button\n          @click=\"$emit('close')\"\n          class=\"px-4 py-2 text-sm font-medium border border-border rounded-md hover:bg-muted transition-colors\"\n        >\n          Close\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { useSecrets } from '../composables/useSecrets'\nimport { maskValue } from '../utils/formatters'\n\nconst props = defineProps({\n  secretKey: {\n    type: String,\n    required: true\n  },\n  vault: {\n    type: String,\n    required: true\n  },\n  stage: {\n    type: String,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['close', 'refresh'])\n\nconst { getSecretHistory } = useSecrets()\nconst history = ref([])\nconst loading = ref(true)\nconst error = ref(null)\nconst unmasked = ref(false)\n\nonMounted(() => {\n  loadHistory()\n})\n\nasync function loadHistory() {\n  loading.value = true\n  error.value = null\n  \n  try {\n    const data = await getSecretHistory(\n      props.secretKey, \n      props.vault, \n      props.stage, \n      20, \n      true  // Always get unmasked values\n    )\n    history.value = data.history || []\n  } catch (err) {\n    console.error('Failed to load history:', err)\n    error.value = err.message || 'Failed to load history'\n  } finally {\n    loading.value = false\n  }\n}\n\nfunction toggleUnmask() {\n  unmasked.value = !unmasked.value\n}\n\nfunction getMaskedValue(value) {\n  if (!value) return '(null)'\n  if (unmasked.value) return value\n  return maskValue(value, '••••')\n}\n</script>","<template>\n  <div class=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\" @click.self=\"$emit('close')\">\n    <div class=\"bg-card border border-border rounded-lg p-6 w-full max-w-md\">\n      <div class=\"flex items-start space-x-3\">\n        <div class=\"flex-shrink-0\">\n          <div class=\"h-10 w-10 rounded-full bg-destructive/10 flex items-center justify-center\">\n            <svg class=\"h-6 w-6 text-destructive\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n            </svg>\n          </div>\n        </div>\n        <div class=\"flex-1\">\n          <h3 class=\"text-lg font-semibold\">Delete Secret</h3>\n          <p class=\"mt-2 text-sm text-muted-foreground\">\n            Are you sure you want to delete this secret?\n          </p>\n          <div class=\"mt-3 p-3 bg-muted/50 rounded-md\">\n            <div class=\"text-sm\">\n              <div class=\"font-medium\">{{ secretKey }}</div>\n              <div class=\"text-xs text-muted-foreground mt-1\">\n                {{ vault }} / {{ stage }}\n              </div>\n            </div>\n          </div>\n          <p class=\"mt-3 text-sm text-muted-foreground\">\n            This action cannot be undone.\n          </p>\n          <div v-if=\"error\" class=\"mt-3 p-3 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-900 rounded-md\">\n            <p class=\"text-sm text-red-600 dark:text-red-400\">{{ error }}</p>\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"flex justify-end space-x-3 mt-6\">\n        <button\n          @click=\"$emit('close')\"\n          class=\"px-4 py-2 text-sm font-medium border border-border rounded-md hover:bg-muted transition-colors\"\n        >\n          Cancel\n        </button>\n        <button\n          @click=\"handleDelete\"\n          :disabled=\"loading\"\n          class=\"px-4 py-2 text-sm font-medium bg-destructive text-destructive-foreground rounded-md hover:bg-destructive/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {{ loading ? 'Deleting...' : 'Delete Secret' }}\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { useSecrets } from '../composables/useSecrets'\nimport { useToast } from '../composables/useToast'\n\nconst props = defineProps({\n  secretKey: {\n    type: String,\n    required: true\n  },\n  vault: {\n    type: String,\n    required: true\n  },\n  stage: {\n    type: String,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['close', 'success'])\n\nconst toast = useToast()\nconst { deleteSecret } = useSecrets()\n\nconst error = ref('')\nconst loading = ref(false)\n\nasync function handleDelete() {\n  if (loading.value) return\n  \n  error.value = ''\n  loading.value = true\n  \n  try {\n    await deleteSecret(props.secretKey, props.vault, props.stage)\n    toast.success('Secret deleted', `Secret '${props.secretKey}' has been deleted successfully`)\n    emit('success')\n    emit('close')\n  } catch (err) {\n    // Display error in the modal\n    error.value = err.message || 'Failed to delete secret'\n    console.error('Failed to delete secret:', err)\n  } finally {\n    loading.value = false\n  }\n}\n</script>","<template>\n  <div class=\"relative inline-block text-left\">\n    <button\n      ref=\"buttonRef\"\n      @click=\"toggleMenu\"\n      :class=\"['p-1 rounded hover:bg-muted transition-colors', buttonClass]\"\n    >\n      <svg class=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n        <path d=\"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z\"/>\n      </svg>\n    </button>\n    \n    <Teleport to=\"body\" v-if=\"isOpen\">\n      <div\n        :style=\"menuStyle\"\n        class=\"absolute w-48 bg-popover border border-border rounded-md shadow-lg z-50\"\n      >\n        <div class=\"py-1 flex flex-col\">\n          <button\n            v-if=\"showEdit\"\n            @click=\"handleEdit\"\n            class=\"w-full text-left px-4 py-2 text-sm hover:bg-accent transition-colors\"\n          >\n            Edit\n          </button>\n          <button\n            v-if=\"showRename\"\n            @click=\"handleRename\"\n            class=\"w-full text-left px-4 py-2 text-sm hover:bg-accent transition-colors\"\n          >\n            Rename\n          </button>\n          <button\n            v-if=\"showCreate\"\n            @click=\"handleCreate\"\n            class=\"w-full text-left px-4 py-2 text-sm hover:bg-accent transition-colors\"\n          >\n            Create\n          </button>\n          <button\n            v-if=\"showCopyValue\"\n            @click=\"handleCopyValue\"\n            class=\"w-full text-left px-4 py-2 text-sm hover:bg-accent transition-colors\"\n          >\n            Copy Value\n          </button>\n          <button\n            v-if=\"showCopyTo\"\n            @click=\"handleCopyTo\"\n            class=\"w-full text-left px-4 py-2 text-sm hover:bg-accent transition-colors\"\n          >\n            Copy To...\n          </button>\n          <button\n            v-if=\"showHistory\"\n            @click=\"handleHistory\"\n            class=\"w-full text-left px-4 py-2 text-sm hover:bg-accent transition-colors\"\n          >\n            History\n          </button>\n          <button\n            v-if=\"showDelete\"\n            @click=\"handleDelete\"\n            class=\"w-full text-left px-4 py-2 text-sm text-destructive hover:bg-accent transition-colors\"\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    </Teleport>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onUnmounted } from 'vue'\n\nconst props = defineProps({\n  secretKey: {\n    type: String,\n    required: true\n  },\n  secretValue: {\n    type: String,\n    default: null\n  },\n  vault: {\n    type: String,\n    required: true\n  },\n  stage: {\n    type: String,\n    required: true\n  },\n  showEdit: {\n    type: Boolean,\n    default: true\n  },\n  showRename: {\n    type: Boolean,\n    default: true\n  },\n  showCreate: {\n    type: Boolean,\n    default: false\n  },\n  showCopyValue: {\n    type: Boolean,\n    default: true\n  },\n  showCopyTo: {\n    type: Boolean,\n    default: true\n  },\n  showDelete: {\n    type: Boolean,\n    default: true\n  },\n  showHistory: {\n    type: Boolean,\n    default: true\n  },\n  buttonClass: {\n    type: String,\n    default: ''\n  }\n})\n\nconst emit = defineEmits(['edit', 'rename', 'create', 'copyValue', 'copyTo', 'delete', 'history', 'refresh'])\n\nconst isOpen = ref(false)\nconst menuStyle = ref({})\nconst buttonRef = ref(null)\n\nfunction toggleMenu(event) {\n  event.stopPropagation()\n  \n  if (isOpen.value) {\n    isOpen.value = false\n  } else {\n    // Close any other open menus by dispatching a custom event\n    document.dispatchEvent(new CustomEvent('close-all-menus'))\n    \n    const button = event.currentTarget\n    const rect = button.getBoundingClientRect()\n    \n    // Menu dimensions\n    const menuWidth = 192 // 192px = 48rem (w-48)\n    // Calculate approximate menu height based on visible items (40px per item + 8px padding)\n    const visibleItems = [\n      props.showEdit, props.showRename, props.showCreate,\n      props.showCopyValue, props.showCopyTo, props.showHistory, props.showDelete\n    ].filter(Boolean).length\n    const menuHeight = (visibleItems * 40) + 8\n    \n    // Calculate position with scroll offset (for absolute positioning)\n    let left = rect.right - menuWidth\n    let top = rect.bottom + 4 + window.scrollY\n    \n    // Check if menu would go below viewport\n    const wouldGoBelow = rect.bottom + menuHeight > window.innerHeight\n    \n    // If near bottom of viewport, position above the button\n    if (wouldGoBelow && rect.top > menuHeight) {\n      top = rect.top - menuHeight + 16 + window.scrollY  // +16 instead of -4 to reduce gap\n    }\n    \n    // Ensure menu doesn't go off left edge\n    if (left < 0) {\n      left = rect.left\n    }\n    \n    menuStyle.value = {\n      left: `${left}px`,\n      top: `${top}px`\n    }\n    \n    // Small delay to prevent immediate closing\n    setTimeout(() => {\n      isOpen.value = true\n    }, 0)\n  }\n}\n\nfunction handleEdit() {\n  emit('edit', { key: props.secretKey, value: props.secretValue, vault: props.vault, stage: props.stage })\n  isOpen.value = false\n}\n\nfunction handleRename() {\n  emit('rename', { key: props.secretKey, value: props.secretValue, vault: props.vault, stage: props.stage })\n  isOpen.value = false\n}\n\nfunction handleCreate() {\n  emit('create', { key: props.secretKey, vault: props.vault, stage: props.stage })\n  isOpen.value = false\n}\n\nfunction handleCopyValue() {\n  if (props.secretValue) {\n    navigator.clipboard.writeText(props.secretValue)\n  }\n  emit('copyValue', { key: props.secretKey, vault: props.vault, stage: props.stage })\n  isOpen.value = false\n}\n\nfunction handleCopyTo() {\n  emit('copyTo', { key: props.secretKey, value: props.secretValue, vault: props.vault, stage: props.stage })\n  isOpen.value = false\n}\n\nfunction handleHistory() {\n  emit('history', { key: props.secretKey, vault: props.vault, stage: props.stage })\n  isOpen.value = false\n}\n\nfunction handleDelete() {\n  emit('delete', { key: props.secretKey, vault: props.vault, stage: props.stage })\n  isOpen.value = false\n}\n\n// Close menu when clicking outside\nfunction handleClickOutside(event) {\n  if (isOpen.value && buttonRef.value && !buttonRef.value.contains(event.target)) {\n    isOpen.value = false\n  }\n}\n\n// Close this menu when another menu opens\nfunction handleCloseAllMenus() {\n  isOpen.value = false\n}\n\n// Close menu when scrolling (since position becomes stale)\nfunction handleScroll() {\n  if (isOpen.value) {\n    isOpen.value = false\n  }\n}\n\nonMounted(() => {\n  document.addEventListener('click', handleClickOutside)\n  document.addEventListener('close-all-menus', handleCloseAllMenus)\n  window.addEventListener('scroll', handleScroll, true) // Use capture to catch all scroll events\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', handleClickOutside)\n  document.removeEventListener('close-all-menus', handleCloseAllMenus)\n  window.removeEventListener('scroll', handleScroll, true)\n})\n</script>","<template>\n  <!-- Import Wizard Modal -->\n  <div class=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\" @click.self=\"closeWizard\">\n      <div class=\"bg-card border border-border rounded-lg w-full max-w-3xl max-h-[80vh] overflow-hidden flex flex-col\">\n        <!-- Header -->\n        <div class=\"flex items-center justify-between px-6 py-4 border-b border-border\">\n          <h2 class=\"text-lg font-semibold\">Import .env File</h2>\n          <button\n            @click=\"closeWizard\"\n            class=\"p-1 rounded-md hover:bg-muted transition-colors\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"/>\n            </svg>\n          </button>\n        </div>\n\n        <!-- Content -->\n        <div class=\"flex-1 overflow-y-auto px-6 py-4\">\n          <!-- Step 1: Upload -->\n          <div v-if=\"step === 1\" class=\"space-y-4\">\n            <div>\n              <h3 class=\"font-medium mb-2\">Upload or Paste .env Content</h3>\n              <p class=\"text-sm text-muted-foreground mb-4\">\n                Select a .env file from your computer or paste the content directly.\n              </p>\n            </div>\n\n            <!-- File Upload with Drag & Drop -->\n            <div \n              @drop=\"handleDrop\"\n              @dragover.prevent\n              @dragenter.prevent\n              @dragleave=\"isDragging = false\"\n              @dragenter=\"isDragging = true\"\n              :class=\"[\n                'border-2 border-dashed rounded-lg p-6 text-center transition-colors',\n                isDragging ? 'border-primary bg-primary/5' : 'border-border'\n              ]\"\n            >\n              <input\n                type=\"file\"\n                ref=\"fileInput\"\n                @change=\"handleFileUpload\"\n                accept=\".env,.env.*\"\n                class=\"hidden\"\n              />\n              \n              <svg class=\"w-12 h-12 mx-auto mb-4 text-muted-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n              </svg>\n              \n              <p class=\"text-sm font-medium mb-2\">\n                {{ isDragging ? 'Drop file here...' : 'Drag & drop your .env file here' }}\n              </p>\n              \n              <p class=\"text-xs text-muted-foreground mb-4\">or</p>\n              \n              <button\n                @click=\"$refs.fileInput.click()\"\n                class=\"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors text-sm font-medium\"\n              >\n                Browse Files\n              </button>\n              \n              <p class=\"text-sm text-muted-foreground mt-3\">\n                {{ fileName || 'Supports .env and .env.* files' }}\n              </p>\n            </div>\n\n            <div class=\"text-center text-muted-foreground text-sm\">— OR —</div>\n\n            <!-- Text Input -->\n            <div>\n              <label class=\"block text-sm font-medium mb-2\">Paste .env Content</label>\n              <textarea\n                v-model=\"envContent\"\n                class=\"w-full h-48 px-3 py-2 bg-input border border-border rounded-md text-sm font-mono focus:outline-none focus:ring-2 focus:ring-ring\"\n                placeholder=\"KEY1=value1&#10;KEY2=value2&#10;KEY3=value3\"\n              ></textarea>\n            </div>\n\n            <!-- Filter Options -->\n            <div class=\"space-y-3 pt-4 border-t border-border\">\n              <h4 class=\"text-sm font-medium\">Filter Options (Optional)</h4>\n              <div class=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label class=\"block text-xs text-muted-foreground mb-1\">Only include keys matching</label>\n                  <input\n                    v-model=\"filters.only\"\n                    type=\"text\"\n                    class=\"w-full px-3 py-2 bg-input border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring\"\n                    placeholder=\"e.g., DB_* or APP_*\"\n                  />\n                </div>\n                <div>\n                  <label class=\"block text-xs text-muted-foreground mb-1\">Exclude keys matching</label>\n                  <input\n                    v-model=\"filters.except\"\n                    type=\"text\"\n                    class=\"w-full px-3 py-2 bg-input border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring\"\n                    placeholder=\"e.g., MAIL_* or TEST_*\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Step 2: Preview & Conflicts -->\n          <div v-else-if=\"step === 2\" class=\"space-y-4\">\n            <div>\n              <h3 class=\"font-medium mb-2\">Review Import</h3>\n              <div class=\"flex items-center space-x-6 text-sm\">\n                <span>\n                  <span class=\"font-medium text-green-500\">{{ analysis.new }}</span> new\n                </span>\n                <span>\n                  <span class=\"font-medium text-yellow-500\">{{ analysis.existing }}</span> existing\n                </span>\n                <span>\n                  <span class=\"font-medium text-red-500\">{{ analysis.invalid }}</span> invalid\n                </span>\n                <span>\n                  <span class=\"font-medium text-gray-500\">{{ analysis.empty }}</span> empty\n                </span>\n              </div>\n            </div>\n\n            <!-- Conflict Resolution -->\n            <div v-if=\"analysis.existing > 0\" class=\"border border-yellow-500/20 bg-yellow-500/5 rounded-lg p-4\">\n              <h4 class=\"font-medium text-yellow-500 mb-3\">Conflict Resolution</h4>\n              <div class=\"space-y-2\">\n                <label class=\"flex items-center space-x-2\">\n                  <input\n                    type=\"radio\"\n                    v-model=\"conflictStrategy\"\n                    value=\"skip\"\n                    class=\"text-primary focus:ring-primary\"\n                  />\n                  <span class=\"text-sm\">Skip existing secrets (keep current values)</span>\n                </label>\n                <label class=\"flex items-center space-x-2\">\n                  <input\n                    type=\"radio\"\n                    v-model=\"conflictStrategy\"\n                    value=\"overwrite\"\n                    class=\"text-primary focus:ring-primary\"\n                  />\n                  <span class=\"text-sm\">Overwrite existing secrets (replace with new values)</span>\n                </label>\n              </div>\n            </div>\n\n            <!-- Secrets Preview Table -->\n            <div class=\"border border-border rounded-lg overflow-hidden\">\n              <table class=\"w-full text-sm\">\n                <thead class=\"bg-muted\">\n                  <tr>\n                    <th class=\"text-left px-4 py-2 font-medium\">Key</th>\n                    <th class=\"text-left px-4 py-2 font-medium\">Value</th>\n                    <th class=\"text-left px-4 py-2 font-medium\">Status</th>\n                  </tr>\n                </thead>\n                <tbody class=\"divide-y divide-border\">\n                  <tr\n                    v-for=\"secret in analysisSecrets\"\n                    :key=\"secret.key\"\n                    :class=\"{\n                      'opacity-50': secret.status === 'empty' || secret.status === 'invalid'\n                    }\"\n                  >\n                    <td class=\"px-4 py-2 font-mono\">{{ secret.key }}</td>\n                    <td class=\"px-4 py-2 font-mono text-xs\">\n                      {{ secret.value || '(empty)' }}\n                    </td>\n                    <td class=\"px-4 py-2\">\n                      <span\n                        :class=\"[\n                          'px-2 py-1 rounded text-xs font-medium',\n                          getStatusClass(secret.status)\n                        ]\"\n                      >\n                        {{ getStatusLabel(secret.status) }}\n                      </span>\n                      <span v-if=\"secret.error\" class=\"block text-xs text-red-500 mt-1\">\n                        {{ secret.error }}\n                      </span>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n\n            <!-- Dry Run Option -->\n            <div class=\"flex items-center space-x-2\">\n              <input\n                type=\"checkbox\"\n                v-model=\"dryRun\"\n                id=\"dry-run\"\n                class=\"rounded border-border\"\n              />\n              <label for=\"dry-run\" class=\"text-sm\">\n                Dry run (preview what would be imported without making changes)\n              </label>\n            </div>\n          </div>\n\n          <!-- Step 3: Results -->\n          <div v-else-if=\"step === 3\" class=\"space-y-4\">\n            <div>\n              <h3 class=\"font-medium mb-2\">Import {{ dryRun ? 'Preview' : 'Complete' }}</h3>\n              <div class=\"flex items-center space-x-6 text-sm\">\n                <span>\n                  <span class=\"font-medium text-green-500\">{{ importResults.imported }}</span> imported\n                </span>\n                <span>\n                  <span class=\"font-medium text-yellow-500\">{{ importResults.skipped }}</span> skipped\n                </span>\n                <span>\n                  <span class=\"font-medium text-red-500\">{{ importResults.failed }}</span> failed\n                </span>\n              </div>\n            </div>\n\n            <!-- Dry Run Notice -->\n            <div v-if=\"dryRun\" class=\"border border-blue-500/20 bg-blue-500/5 rounded-lg p-4\">\n              <p class=\"text-sm text-blue-500\">\n                This was a dry run. No secrets were actually imported.\n              </p>\n            </div>\n\n            <!-- Errors -->\n            <div v-if=\"importResults.errors && importResults.errors.length > 0\" class=\"border border-red-500/20 bg-red-500/5 rounded-lg p-4\">\n              <h4 class=\"font-medium text-red-500 mb-2\">Errors</h4>\n              <ul class=\"list-disc list-inside space-y-1\">\n                <li v-for=\"(error, index) in importResults.errors\" :key=\"index\" class=\"text-sm text-red-500\">\n                  {{ error }}\n                </li>\n              </ul>\n            </div>\n\n            <!-- Results Table -->\n            <div class=\"border border-border rounded-lg overflow-hidden\">\n              <table class=\"w-full text-sm\">\n                <thead class=\"bg-muted\">\n                  <tr>\n                    <th class=\"text-left px-4 py-2 font-medium\">Key</th>\n                    <th class=\"text-left px-4 py-2 font-medium\">Status</th>\n                    <th class=\"text-left px-4 py-2 font-medium\">Revision</th>\n                  </tr>\n                </thead>\n                <tbody class=\"divide-y divide-border\">\n                  <tr v-for=\"(info, key) in importResults.results\" :key=\"key\">\n                    <td class=\"px-4 py-2 font-mono\">{{ key }}</td>\n                    <td class=\"px-4 py-2\">\n                      <span\n                        :class=\"[\n                          'px-2 py-1 rounded text-xs font-medium',\n                          getResultStatusClass(info.status)\n                        ]\"\n                      >\n                        {{ getResultStatusLabel(info) }}\n                      </span>\n                    </td>\n                    <td class=\"px-4 py-2 text-muted-foreground\">\n                      {{ info.revision || '-' }}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n\n        <!-- Footer -->\n        <div class=\"flex justify-between items-center px-6 py-4 border-t border-border\">\n          <div>\n            <button\n              v-if=\"step === 2\"\n              @click=\"step--\"\n              class=\"px-4 py-2 text-sm border border-border rounded-md hover:bg-muted transition-colors\"\n            >\n              Back\n            </button>\n          </div>\n          <div class=\"flex space-x-2\">\n            <button\n              @click=\"closeWizard\"\n              class=\"px-4 py-2 text-sm border border-border rounded-md hover:bg-muted transition-colors\"\n            >\n              {{ step === 3 ? 'Close' : 'Cancel' }}\n            </button>\n            <button\n              v-if=\"step === 1\"\n              @click=\"analyzeImport\"\n              :disabled=\"!envContent || analyzing\"\n              class=\"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors text-sm font-medium disabled:opacity-50\"\n            >\n              {{ analyzing ? 'Analyzing...' : 'Next' }}\n            </button>\n            <button\n              v-else-if=\"step === 2\"\n              @click=\"executeImport\"\n              :disabled=\"importing\"\n              class=\"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors text-sm font-medium disabled:opacity-50\"\n            >\n              {{ importing ? 'Importing...' : (dryRun ? 'Preview Import' : 'Import') }}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { useToast } from '../composables/useToast'\n\nconst props = defineProps({\n  vault: String,\n  stage: String\n})\n\nconst emit = defineEmits(['imported', 'close'])\n\nconst toast = useToast()\n\n// Wizard state\nconst step = ref(1)\n\n// Step 1: Upload\nconst fileName = ref('')\nconst envContent = ref('')\nconst isDragging = ref(false)\nconst filters = ref({\n  only: '',\n  except: ''\n})\n\n// Step 2: Analysis\nconst analyzing = ref(false)\nconst analysis = ref({\n  total: 0,\n  new: 0,\n  existing: 0,\n  invalid: 0,\n  empty: 0,\n  secrets: []\n})\nconst conflictStrategy = ref('skip')\nconst dryRun = ref(false)\n\n// Step 3: Results\nconst importing = ref(false)\nconst importResults = ref({\n  imported: 0,\n  skipped: 0,\n  failed: 0,\n  results: {},\n  errors: []\n})\n\n// Computed\nconst analysisSecrets = computed(() => analysis.value.secrets || [])\n\n// Methods\nfunction handleFileUpload(event) {\n  const file = event.target.files[0]\n  if (!file) return\n  \n  processFile(file)\n}\n\nfunction handleDrop(event) {\n  event.preventDefault()\n  isDragging.value = false\n  \n  const files = event.dataTransfer.files\n  if (files.length === 0) return\n  \n  const file = files[0]\n  \n  // Check if it's an env file\n  if (!file.name.match(/\\.env(\\.|$)/)) {\n    toast.error('Invalid file', 'Please upload a .env file')\n    return\n  }\n  \n  processFile(file)\n}\n\nfunction processFile(file) {\n  fileName.value = file.name\n  \n  const reader = new FileReader()\n  reader.onload = (e) => {\n    envContent.value = e.target.result\n  }\n  reader.onerror = () => {\n    toast.error('Failed to read file', 'Could not read the selected file')\n  }\n  reader.readAsText(file)\n}\n\nasync function analyzeImport() {\n  if (!envContent.value) {\n    toast.error('No content to import', 'Please upload a file or paste content')\n    return\n  }\n  \n  analyzing.value = true\n  \n  try {\n    const response = await window.$api.analyzeImport({\n      content: envContent.value,\n      vault: props.vault,\n      stage: props.stage,\n      only: filters.value.only || null,\n      except: filters.value.except || null\n    })\n    \n    analysis.value = response.analysis\n    step.value = 2\n    \n    // Auto-select strategy based on conflicts\n    if (analysis.value.existing === 0) {\n      conflictStrategy.value = 'skip' // No conflicts, any strategy works\n    }\n  } catch (error) {\n    toast.error('Failed to analyze import', error.message)\n  } finally {\n    analyzing.value = false\n  }\n}\n\nasync function executeImport() {\n  importing.value = true\n  \n  try {\n    const response = await window.$api.executeImport({\n      content: envContent.value,\n      vault: props.vault,\n      stage: props.stage,\n      strategy: conflictStrategy.value,\n      only: filters.value.only || null,\n      except: filters.value.except || null,\n      dry_run: dryRun.value\n    })\n    \n    importResults.value = response\n    step.value = 3\n    \n    if (!dryRun.value && response.imported > 0) {\n      toast.success('Import successful', `Imported ${response.imported} secrets`)\n      emit('imported')\n    }\n  } catch (error) {\n    toast.error('Failed to import', error.message)\n  } finally {\n    importing.value = false\n  }\n}\n\nfunction closeWizard() {\n  step.value = 1\n  fileName.value = ''\n  envContent.value = ''\n  isDragging.value = false\n  emit('close')\n  filters.value = { only: '', except: '' }\n  analysis.value = { total: 0, new: 0, existing: 0, invalid: 0, empty: 0, secrets: [] }\n  conflictStrategy.value = 'skip'\n  dryRun.value = false\n  importResults.value = { imported: 0, skipped: 0, failed: 0, results: {}, errors: [] }\n}\n\nfunction getStatusClass(status) {\n  switch (status) {\n    case 'new': return 'bg-green-500/10 text-green-500'\n    case 'existing': return 'bg-yellow-500/10 text-yellow-500'\n    case 'invalid': return 'bg-red-500/10 text-red-500'\n    case 'empty': return 'bg-gray-500/10 text-gray-500'\n    default: return 'bg-muted text-muted-foreground'\n  }\n}\n\nfunction getStatusLabel(status) {\n  switch (status) {\n    case 'new': return 'New'\n    case 'existing': return 'Exists'\n    case 'invalid': return 'Invalid'\n    case 'empty': return 'Empty'\n    default: return status\n  }\n}\n\nfunction getResultStatusClass(status) {\n  switch (status) {\n    case 'imported':\n    case 'would_import': return 'bg-green-500/10 text-green-500'\n    case 'skipped': return 'bg-yellow-500/10 text-yellow-500'\n    case 'failed': return 'bg-red-500/10 text-red-500'\n    default: return 'bg-muted text-muted-foreground'\n  }\n}\n\nfunction getResultStatusLabel(info) {\n  switch (info.status) {\n    case 'imported': return 'Imported'\n    case 'would_import': return 'Would Import'\n    case 'skipped':\n      switch (info.reason) {\n        case 'empty_value': return 'Skipped (empty)'\n        case 'exists': return 'Skipped (exists)'\n        default: return 'Skipped'\n      }\n    case 'failed':\n      switch (info.reason) {\n        case 'invalid_key': return 'Failed (invalid)'\n        case 'exists': return 'Failed (exists)'\n        case 'vault_error': return 'Failed (error)'\n        default: return 'Failed'\n      }\n    default: return info.status\n  }\n}\n</script>","<template>\n  <div class=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\" @click.self=\"$emit('close')\">\n    <div class=\"bg-card border border-border rounded-lg p-6 w-full max-w-md\">\n      <h2 class=\"text-lg font-semibold mb-4\">Download Secrets</h2>\n      \n      <div class=\"space-y-4\">\n        <!-- Format Selection -->\n        <div>\n          <label class=\"block text-sm font-medium mb-2\">Export Format</label>\n          <div class=\"grid grid-cols-3 gap-2\">\n            <button\n              v-for=\"fmt in formats\"\n              :key=\"fmt.value\"\n              @click=\"selectedFormat = fmt.value\"\n              :class=\"[\n                'p-3 border rounded-md transition-colors',\n                selectedFormat === fmt.value\n                  ? 'border-primary bg-primary/10 text-primary'\n                  : 'border-border hover:bg-muted'\n              ]\"\n            >\n              <div class=\"font-medium\">{{ fmt.label }}</div>\n              <div class=\"text-xs opacity-75 mt-1\">{{ fmt.description }}</div>\n            </button>\n          </div>\n        </div>\n        \n        <!-- Filename -->\n        <div>\n          <label class=\"block text-sm font-medium mb-1\">Filename</label>\n          <input\n            v-model=\"filename\"\n            type=\"text\"\n            class=\"w-full px-3 py-2 bg-input border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring\"\n            :placeholder=\"defaultFilename\"\n          />\n        </div>\n        \n        <!-- Info -->\n        <div class=\"text-xs text-muted-foreground\">\n          <div>Vault: <span class=\"font-medium\">{{ vault }}</span></div>\n          <div>Stage: <span class=\"font-medium\">{{ stage }}</span></div>\n          <div>Secrets: <span class=\"font-medium\">{{ secretCount }}</span></div>\n        </div>\n      </div>\n      \n      <div class=\"flex justify-end space-x-3 mt-6\">\n        <button\n          type=\"button\"\n          @click=\"$emit('close')\"\n          class=\"px-4 py-2 text-sm font-medium border border-border rounded-md hover:bg-muted transition-colors\"\n        >\n          Cancel\n        </button>\n        <button\n          @click=\"downloadSecrets\"\n          :disabled=\"loading\"\n          class=\"px-4 py-2 text-sm font-medium bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors disabled:opacity-50\"\n        >\n          <span v-if=\"!loading\">Download</span>\n          <span v-else>Preparing...</span>\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport { useToast } from '../composables/useToast'\n\nconst props = defineProps({\n  vault: String,\n  stage: String,\n  secrets: {\n    type: Array,\n    default: () => []\n  }\n})\n\nconst emit = defineEmits(['close'])\n\nconst toast = useToast()\n\nconst loading = ref(false)\nconst selectedFormat = ref('env')\nconst filename = ref('')\n\nconst formats = [\n  {\n    value: 'env',\n    label: '.env',\n    description: 'KEY=value'\n  },\n  {\n    value: 'json',\n    label: 'JSON',\n    description: '{\"key\": \"value\"}'\n  },\n  {\n    value: 'csv',\n    label: 'CSV',\n    description: 'Spreadsheet'\n  }\n]\n\nconst secretCount = computed(() => props.secrets.length)\n\nconst defaultFilename = computed(() => {\n  const timestamp = new Date().toISOString().split('T')[0]\n  return `${props.vault}-${props.stage}-${timestamp}.${selectedFormat.value}`\n})\n\nasync function downloadSecrets() {\n  loading.value = true\n  \n  try {\n    let content = ''\n    const fileName = filename.value || defaultFilename.value\n    \n    switch (selectedFormat.value) {\n      case 'json':\n        const jsonData = {}\n        props.secrets.forEach(secret => {\n          jsonData[secret.key] = secret.value\n        })\n        content = JSON.stringify(jsonData, null, 2)\n        break\n        \n      case 'csv':\n        content = 'Key,Value,Modified\\n'\n        props.secrets.forEach(secret => {\n          const key = escapeCsvField(secret.key)\n          const value = escapeCsvField(secret.value)\n          const modified = escapeCsvField(secret.modified || '')\n          content += `${key},${value},${modified}\\n`\n        })\n        break\n        \n      case 'env':\n      default:\n        props.secrets.forEach(secret => {\n          content += `${secret.key}=${formatEnvValue(secret.value)}\\n`\n        })\n        break\n    }\n    \n    // Create blob and download\n    const blob = new Blob([content], { type: 'text/plain;charset=utf-8' })\n    const url = window.URL.createObjectURL(blob)\n    const link = document.createElement('a')\n    link.href = url\n    link.download = fileName\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n    window.URL.revokeObjectURL(url)\n    \n    toast.success('Export Complete', `Secrets downloaded as ${fileName}`)\n    emit('close')\n  } catch (error) {\n    console.error('Export failed:', error)\n    toast.error('Export Failed', error.message)\n  } finally {\n    loading.value = false\n  }\n}\n\nfunction escapeCsvField(field) {\n  if (typeof field !== 'string') {\n    field = String(field || '')\n  }\n  // If field contains comma, quotes, or newline, wrap in quotes and escape quotes\n  if (/[,\"\\n\\r]/.test(field)) {\n    return '\"' + field.replace(/\"/g, '\"\"') + '\"'\n  }\n  return field\n}\n\nfunction formatEnvValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value || '')\n  }\n  // If value contains newlines or starts/ends with quotes, wrap in quotes\n  if (value.includes('\\n') || value.includes('\"') || value.includes(' ')) {\n    return `\"${value.replace(/\"/g, '\\\\\"')}\"`\n  }\n  return value\n}\n</script>","<template>\n  <div class=\"relative\">\n    <!-- Three-dot menu button -->\n    <button\n      @click=\"toggleMenu($event)\"\n      class=\"p-2 rounded hover:bg-muted transition-colors\"\n      title=\"Actions\"\n    >\n      <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z\" />\n      </svg>\n    </button>\n    \n    <!-- Dropdown menu -->\n    <div\n      v-if=\"menuOpen\"\n      @click.stop\n      class=\"absolute right-0 mt-2 w-48 bg-popover border border-border rounded-md shadow-lg z-20\"\n    >\n      <div class=\"py-1\">\n        <button\n          @click=\"showImportWizard = true; menuOpen = false\"\n          class=\"w-full text-left px-4 py-2 text-sm hover:bg-accent transition-colors flex items-center space-x-2\"\n        >\n          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\n          </svg>\n          <span>Import .env File</span>\n        </button>\n        \n        <button\n          @click=\"showExportModal = true; menuOpen = false\"\n          class=\"w-full text-left px-4 py-2 text-sm hover:bg-accent transition-colors flex items-center space-x-2\"\n        >\n          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\n          </svg>\n          <span>Download Secrets</span>\n        </button>\n      </div>\n    </div>\n    \n    <!-- Import Wizard Modal -->\n    <ImportWizard\n      v-if=\"showImportWizard\"\n      :vault=\"vault\"\n      :stage=\"stage\"\n      @imported=\"handleImported\"\n      @close=\"showImportWizard = false\"\n    />\n    \n    <!-- Export Modal -->\n    <ExportModal\n      v-if=\"showExportModal\"\n      :vault=\"vault\"\n      :stage=\"stage\"\n      :secrets=\"secrets\"\n      @close=\"showExportModal = false\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onBeforeUnmount, watch } from 'vue'\nimport ImportWizard from './ImportWizard.vue'\nimport ExportModal from './ExportModal.vue'\n\nconst props = defineProps({\n  vault: String,\n  stage: String,\n  secrets: {\n    type: Array,\n    default: () => []\n  }\n})\n\nconst emit = defineEmits(['imported'])\n\nconst menuOpen = ref(false)\nconst showImportWizard = ref(false)\nconst showExportModal = ref(false)\n\nfunction toggleMenu(event) {\n  event.stopPropagation()\n  menuOpen.value = !menuOpen.value\n}\n\nfunction handleImported() {\n  showImportWizard.value = false\n  emit('imported')\n}\n\nfunction closeMenu() {\n  menuOpen.value = false\n}\n\n// Handle click outside\nfunction handleClickOutside(event) {\n  // Check if click is outside the component\n  const button = event.target.closest('button')\n  const menu = event.target.closest('.absolute.right-0')\n  \n  if (!button && !menu) {\n    closeMenu()\n  }\n}\n\n// Add/remove document listener when menu opens/closes\nwatch(menuOpen, (isOpen) => {\n  if (isOpen) {\n    // Add listener on next tick to avoid immediate close\n    setTimeout(() => {\n      document.addEventListener('click', handleClickOutside)\n    }, 0)\n  } else {\n    document.removeEventListener('click', handleClickOutside)\n  }\n})\n\n// Clean up listener on unmount\nonBeforeUnmount(() => {\n  document.removeEventListener('click', handleClickOutside)\n})\n</script>","import { ref, computed } from 'vue'\nimport { api } from '../services/api'\n\nexport function useVault() {\n  const vaults = ref([])\n  const stages = ref([])\n  const settings = ref({})\n  const loading = ref(false)\n  const error = ref(null)\n\n  const defaultVault = computed(() => \n    vaults.value.find(v => v.isDefault)?.slug || vaults.value[0]?.slug || 'vault'\n  )\n\n  const defaultStage = computed(() => \n    settings.value.default_stage || 'prod'\n  )\n\n  async function loadVaults() {\n    loading.value = true\n    error.value = null\n    try {\n      const response = await api.listVaults()\n      vaults.value = response.vaults\n    } catch (err) {\n      error.value = err.message\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function loadStages() {\n    loading.value = true\n    error.value = null\n    try {\n      const response = await api.listStages()\n      stages.value = response.stages\n    } catch (err) {\n      error.value = err.message\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function loadSettings() {\n    loading.value = true\n    error.value = null\n    try {\n      settings.value = await api.getSettings()\n    } catch (err) {\n      error.value = err.message\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function loadAll() {\n    loading.value = true\n    error.value = null\n    try {\n      const [vaultsRes, stagesRes, settingsRes] = await Promise.all([\n        api.listVaults(),\n        api.listStages(),\n        api.getSettings()\n      ])\n      vaults.value = vaultsRes.vaults\n      stages.value = stagesRes.stages\n      settings.value = settingsRes\n    } catch (err) {\n      error.value = err.message\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  async function verifyVaults() {\n    loading.value = true\n    error.value = null\n    try {\n      return await api.verifyVaults()\n    } catch (err) {\n      error.value = err.message\n      throw err\n    } finally {\n      loading.value = false\n    }\n  }\n\n  return {\n    vaults,\n    stages,\n    settings,\n    loading,\n    error,\n    defaultVault,\n    defaultStage,\n    loadVaults,\n    loadStages,\n    loadSettings,\n    loadAll,\n    verifyVaults\n  }\n}","<template>\n  <div>\n    <!-- Header with vault/stage selectors on left, search and add button on right -->\n    <div class=\"flex items-center justify-between mb-6\">\n      <!-- Left side: Vault & Stage Selectors -->\n      <div class=\"flex items-center\">\n        <VaultStageSelector \n          v-model:vault=\"vault\"\n          v-model:stage=\"stage\"\n          :vaults=\"vaults\"\n          :stages=\"stages\"\n        />\n      </div>\n      \n      <!-- Right side: Search and Add button -->\n      <div class=\"flex space-x-3\">\n        <button\n            @click=\"unmaskAll = !unmaskAll\"\n            class=\"flex items-center space-x-2 px-3 py-1.5 text-sm border border-border rounded-md hover:bg-accent transition-colors\"\n        >\n          <svg v-if=\"!unmaskAll\" class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"/>\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                  d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"/>\n          </svg>\n          <svg v-else class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                  d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\"/>\n          </svg>\n        </button>\n\n        <div class=\"relative\">\n          <input\n            v-model=\"searchQuery\"\n            type=\"text\"\n            placeholder=\"Search by secret key or value...\"\n            class=\"w-64 px-3 py-2 bg-input border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring\"\n          />\n          <svg class=\"absolute right-3 top-2.5 w-4 h-4 text-muted-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n          </svg>\n        </div>\n        \n        <button\n          @click=\"showAddDialog = true\"\n          class=\"flex items-center space-x-2 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors text-sm font-medium\"\n        >\n          <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v16m8-8H4\" />\n          </svg>\n          <span>Add Secret</span>\n        </button>\n        \n        <TableActionsMenu\n          :vault=\"vault\"\n          :stage=\"stage\"\n          :secrets=\"secrets\"\n          @imported=\"loadSecrets\"\n        />\n      </div>\n    </div>\n\n    <!-- Table -->\n    <div class=\"border border-border rounded-lg\">\n      <table class=\"w-full\" :class=\"loading && 'opacity-50 pointer-events-none'\">\n        <thead class=\"bg-muted\">\n          <tr>\n            <th class=\"w-3/12 text-left px-6 py-3 text-xs font-medium text-muted-foreground uppercase tracking-wider rounded-tl-lg\">Key</th>\n            <th class=\"w-6/12 text-left px-6 py-3 text-xs font-medium text-muted-foreground uppercase tracking-wider\">Value</th>\n            <th class=\"w-2/12 text-left px-6 py-3 text-xs font-medium text-muted-foreground uppercase tracking-wider\" title=\"Times shown in your local timezone\">Modified</th>\n            <th class=\"relative px-6 py-3 rounded-tr-lg\"><span class=\"sr-only\">Actions</span></th>\n          </tr>\n        </thead>\n        <tbody class=\"divide-y divide-border\">\n          <tr v-for=\"secret in secrets\" :key=\"secret.key\" class=\"transition-colors\">\n            <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n              {{ secret.key }}\n            </td>\n            <td class=\"px-6 py-4 text-sm\">\n              <SecretValue \n                :value=\"secret.value\" \n                :masked=\"!unmaskAll && !unmaskedKeys.has(secret.key)\" \n                @toggle=\"toggleMask(secret.key)\" \n              />\n            </td>\n            <td class=\"px-6 py-4 whitespace-nowrap text-sm text-muted-foreground\">\n              {{ formatDate(secret.modified) }}\n            </td>\n            <td class=\"px-6 py-4 whitespace-nowrap text-right text-sm\">\n              <SecretActionsMenu\n                :secretKey=\"secret.key\"\n                :secretValue=\"secret.value\"\n                :vault=\"vault\"\n                :stage=\"stage\"\n                @edit=\"editSecret\"\n                @rename=\"showRenameDialog\"\n                @copyValue=\"handleCopyValue\"\n                @copyTo=\"showCopyToStageDialog\"\n                @history=\"showHistoryDialog\"\n                @delete=\"showDeleteDialog\"\n                @refresh=\"loadSecrets\"\n              />\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <div v-if=\"!loading && secrets.length === 0\" class=\"p-8 text-center text-muted-foreground\">\n        No secrets found\n      </div>\n    </div>\n\n    <!-- Add/Edit Dialog -->\n    <SecretDialog\n      v-if=\"showAddDialog || editingSecret\"\n      :secret=\"editingSecret\"\n      :vault=\"editingSecret ? editingSecret.vault : vault\"\n      :stage=\"editingSecret ? editingSecret.stage : stage\"\n      @success=\"handleSecretSaveSuccess\"\n      @close=\"closeDialog\"\n    />\n    \n    <!-- Rename Dialog -->\n    <RenameDialog\n      v-if=\"renamingSecret\"\n      :currentKey=\"renamingSecret.key\"\n      :vault=\"vault\"\n      :stage=\"stage\"\n      @success=\"handleRenameSuccess\"\n      @close=\"renamingSecret = null\"\n    />\n    \n    <!-- Copy to Stage Dialog -->\n    <CopyToStageDialog\n      v-if=\"copyingSecret\"\n      :secretKey=\"copyingSecret.key\"\n      :currentVault=\"vault\"\n      :currentStage=\"stage\"\n      :vaults=\"vaults\"\n      :stages=\"stages\"\n      @copy=\"handleCopyToStage\"\n      @close=\"copyingSecret = null\"\n    />\n    \n    <!-- History Dialog -->\n    <HistoryDialog\n      v-if=\"historySecret\"\n      :secretKey=\"historySecret.key\"\n      :vault=\"vault\"\n      :stage=\"stage\"\n      @refresh=\"loadSecrets\"\n      @close=\"historySecret = null\"\n    />\n    \n    <!-- Delete Confirm Dialog -->\n    <DeleteConfirmDialog\n      v-if=\"deletingSecret\"\n      :secretKey=\"deletingSecret.key\"\n      :vault=\"vault\"\n      :stage=\"stage\"\n      @success=\"handleDeleteSuccess\"\n      @close=\"deletingSecret = null\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, watch, computed } from 'vue'\nimport VaultStageSelector from './VaultStageSelector.vue'\nimport SecretValue from './SecretValue.vue'\nimport SecretDialog from './SecretDialog.vue'\nimport RenameDialog from './RenameDialog.vue'\nimport CopyToStageDialog from './CopyToStageDialog.vue'\nimport HistoryDialog from './HistoryDialog.vue'\nimport DeleteConfirmDialog from './DeleteConfirmDialog.vue'\nimport SecretActionsMenu from './SecretActionsMenu.vue'\nimport TableActionsMenu from './TableActionsMenu.vue'\nimport { useToast } from '../composables/useToast'\nimport { useVault } from '../composables/useVault'\nimport { useSecrets } from '../composables/useSecrets'\nimport { formatDate } from '../utils/formatters'\n\nconst emit = defineEmits(['refresh'])\nconst toast = useToast()\nconst { vaults, stages, settings, loadAll: loadVaultData } = useVault()\nconst { secrets: allSecrets, loading, loadSecrets: fetchSecrets, copySecretToStage } = useSecrets()\n\nconst vault = ref(localStorage.getItem('keep.secrets.vault') || '')\nconst stage = ref(localStorage.getItem('keep.secrets.stage') || '')\nconst searchQuery = ref('')\nconst unmaskAll = ref(false)\nconst unmaskedKeys = ref(new Set())\nconst showAddDialog = ref(false)\nconst editingSecret = ref(null)\nconst renamingSecret = ref(null)\nconst copyingSecret = ref(null)\nconst historySecret = ref(null)\nconst deletingSecret = ref(null)\n\n// Filter secrets client-side based on search query\nconst secrets = computed(() => {\n  if (!searchQuery.value) {\n    return allSecrets.value\n  }\n  \n  const query = searchQuery.value.toLowerCase()\n  return allSecrets.value.filter(secret => {\n    // Search in both key name and value\n    const keyMatches = secret.key.toLowerCase().includes(query)\n    const valueMatches = secret.value && secret.value.toLowerCase().includes(query)\n    return keyMatches || valueMatches\n  })\n})\n\nonMounted(async () => {\n  await loadVaultsAndStages()\n  await loadSecrets()\n})\n\nwatch(() => [vault.value, stage.value], () => {\n  // Save to localStorage\n  if (vault.value) localStorage.setItem('keep.secrets.vault', vault.value)\n  if (stage.value) localStorage.setItem('keep.secrets.stage', stage.value)\n  \n  loadSecrets()\n})\n\nasync function loadVaultsAndStages() {\n  try {\n    await loadVaultData()\n    \n    // Set defaults only if no saved value\n    if (!vault.value) {\n      const defaultVault = settings.value.default_vault\n      if (defaultVault) {\n        vault.value = defaultVault\n        localStorage.setItem('keep.secrets.vault', vault.value)\n      } else if (vaults.value.length > 0) {\n        vault.value = vaults.value[0].slug || vaults.value[0]\n        localStorage.setItem('keep.secrets.vault', vault.value)\n      }\n    }\n    if (!stage.value && stages.value.length) {\n      stage.value = stages.value[0]\n      localStorage.setItem('keep.secrets.stage', stage.value)\n    }\n  } catch (error) {\n    console.error('Failed to load vaults and stages:', error)\n  }\n}\n\nasync function loadSecrets() {\n  if (!vault.value || !stage.value) return\n  \n  try {\n    // Always load all secrets - filtering is done client-side\n    await fetchSecrets(vault.value, stage.value, true)\n  } catch (error) {\n    console.error('Failed to load secrets:', error)\n  }\n}\n\nfunction toggleMask(key) {\n  if (unmaskedKeys.value.has(key)) {\n    unmaskedKeys.value.delete(key)\n  } else {\n    unmaskedKeys.value.add(key)\n  }\n}\n\nfunction editSecret(data) {\n  editingSecret.value = data\n}\n\nasync function handleSecretSaveSuccess() {\n  closeDialog()\n  await loadSecrets()\n}\n\nfunction showRenameDialog(data) {\n  renamingSecret.value = data\n}\n\nfunction showCopyToStageDialog(data) {\n  copyingSecret.value = data\n}\n\nfunction showHistoryDialog(data) {\n  historySecret.value = data\n}\n\nfunction showDeleteDialog(data) {\n  deletingSecret.value = data\n}\n\nfunction handleCopyValue(data) {\n  toast.success('Copied to clipboard', 'Secret value has been copied to your clipboard')\n}\n\nasync function handleDeleteSuccess() {\n  deletingSecret.value = null\n  await loadSecrets()\n}\n\nasync function handleRenameSuccess() {\n  renamingSecret.value = null\n  await loadSecrets()\n}\n\nasync function handleCopyToStage({ targetVault, targetStage }) {\n  try {\n    await copySecretToStage(\n      copyingSecret.value.key, \n      targetStage, \n      targetVault, \n      copyingSecret.value.stage,\n      copyingSecret.value.vault\n    )\n    toast.success('Secret copied', `Secret '${copyingSecret.value.key}' copied to ${targetVault}:${targetStage}`)\n    copyingSecret.value = null\n  } catch (error) {\n    console.error('Failed to copy secret:', error)\n    toast.error('Failed to copy secret', error.message)\n  }\n}\n\nfunction closeDialog() {\n  showAddDialog.value = false\n  editingSecret.value = null\n}\n</script>","<template>\n  <div>\n    <!-- Controls -->\n    <div class=\"mb-6 flex justify-between\">\n      <div class=\"flex items-center space-x-4\">\n        <!-- Combined Vault/Stage Dropdown -->\n        <div class=\"relative\">\n          <button\n              @click=\"showCombinationsDropdown = !showCombinationsDropdown\"\n              class=\"flex items-center space-x-2 px-3 py-2 bg-input border border-border rounded-md text-sm hover:bg-accent transition-colors\"\n          >\n            <span>Toggle Vaults / Stages ({{ selectedCombinations.length }}/{{ availableCombinations.length }})</span>\n            <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"/>\n            </svg>\n          </button>\n\n          <div v-if=\"showCombinationsDropdown\" class=\"absolute top-full left-0 mt-1 bg-popover border border-border rounded-md shadow-lg z-20\">\n            <div class=\"p-2 space-y-1 max-h-96 overflow-y-auto\" style=\"min-width: max-content;\">\n              <label\n                  v-for=\"combo in availableCombinations\"\n                  :key=\"combo.key\"\n                  class=\"flex items-center px-2 py-1.5 hover:bg-accent rounded cursor-pointer whitespace-nowrap\"\n              >\n                <input\n                    type=\"checkbox\"\n                    :value=\"combo.key\"\n                    v-model=\"selectedCombinations\"\n                    class=\"mr-3 rounded border-border bg-input text-primary focus:ring-2 focus:ring-ring\"\n                />\n                <span class=\"text-sm\">\n                  <span>{{ combo.vaultDisplay }} ({{ combo.vault }})</span>\n                  <span class=\"mx-2 text-muted-foreground\">/</span>\n                  <strong>{{ combo.stage }}</strong>\n                </span>\n              </label>\n            </div>\n          </div>\n        </div>\n\n        <!-- Quick Actions -->\n        <div class=\"flex items-center space-x-2 text-sm\">\n          <button\n              @click=\"selectAll\"\n              class=\"text-muted-foreground hover:text-foreground transition-colors\"\n          >\n            Select All\n          </button>\n          <span class=\"text-muted-foreground\">|</span>\n          <button\n              @click=\"selectNone\"\n              class=\"text-muted-foreground hover:text-foreground transition-colors\"\n          >\n            Clear All\n          </button>\n        </div>\n      </div>\n\n      <!-- Right side controls -->\n      <div class=\"flex space-x-2\">\n        <button\n            @click=\"unmaskAll = !unmaskAll\"\n            class=\"flex items-center space-x-2 px-3 py-2 text-sm border border-border rounded-md hover:bg-accent transition-colors\"\n        >\n          <svg v-if=\"!unmaskAll\" class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"/>\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                  d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"/>\n          </svg>\n          <svg v-else class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                  d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\"/>\n          </svg>\n        </button>\n\n        <!-- Search field -->\n        <div class=\"relative\">\n          <input\n            v-model=\"searchQuery\"\n            type=\"text\"\n            placeholder=\"Search by key or value...\"\n            class=\"w-64 px-3 py-2 bg-input border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring\"\n          />\n          <svg class=\"absolute right-3 top-2.5 w-4 h-4 text-muted-foreground\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n          </svg>\n        </div>\n\n      </div>\n    </div>\n\n    <!-- Loading State -->\n    <div v-if=\"loading\" class=\"text-center py-12\">\n      <div class=\"inline-flex items-center space-x-2 text-muted-foreground\">\n        <svg class=\"animate-spin h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\">\n          <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n          <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n        </svg>\n        <span>Loading comparison matrix...</span>\n      </div>\n    </div>\n\n    <!-- Diff Matrix -->\n    <div v-else-if=\"diffMatrix && Object.keys(diffMatrix).length > 0\" class=\"border border-border rounded-lg overflow-y-visible overflow-x-auto\">\n      <table class=\"w-full\">\n        <thead class=\"bg-muted sticky top-0 z-10\">\n        <tr>\n          <th class=\"text-left px-4 py-3 text-xs font-medium text-muted-foreground uppercase tracking-wider sticky left-0 bg-muted z-20 min-w-[200px]\">\n            Secret Key\n          </th>\n          <th\n              v-for=\"column in activeColumns\"\n              :key=\"column\"\n              class=\"px-4 py-3 text-xs font-medium text-muted-foreground uppercase tracking-wider text-center border-l border-border min-w-[80px]\"\n          >\n            <div class=\"flex flex-col\">\n              <span class=\"font-semibold\">{{ column.vault }}</span>\n              <span class=\"text-[10px] opacity-75\">{{ column.stage }}</span>\n            </div>\n          </th>\n        </tr>\n        </thead>\n        <tbody class=\"divide-y divide-border\">\n        <tr v-for=\"key in sortedKeys\" :key=\"key\" :class=\"getRowClass(key)\" class=\"transition-colors\">\n          <td class=\"sticky left-0 z-10 border-r border-border p-0\">\n            <div class=\"bg-background\">\n              <div class=\"px-4 py-3 flex items-center space-x-2\" :class=\"getRowClass(key, false)\">\n                <span class=\"font-mono text-sm font-medium\">{{ key }}</span>\n                <button\n                    @click=\"toggleRowMask(key)\"\n                    class=\"p-1 rounded hover:bg-muted transition-colors\"\n                    :title=\"unmaskedRows.has(key) ? 'Hide values' : 'Show values'\"\n                >\n                  <svg v-if=\"!unmaskedRows.has(key)\" class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"/>\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                          d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"/>\n                  </svg>\n                  <svg v-else class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                          d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\"/>\n                  </svg>\n                </button>\n              </div>\n            </div>\n          </td>\n          <td\n              v-for=\"column in activeColumns\"\n              :key=\"`${key}-${column.vault}-${column.stage}`\"\n              class=\"px-4 py-3 text-left border-l border-border relative group\"\n              :class=\"getCellClass(key, column.vault, column.stage)\"\n          >\n            <div v-if=\"getSecretValue(key, column.vault, column.stage)\" class=\"flex items-center justify-between\">\n                <span class=\"font-mono text-sm\">\n                  {{ getMaskedValue(key, column.vault, column.stage) }}\n                </span>\n              <SecretActionsMenu\n                :secretKey=\"key\"\n                :secretValue=\"getSecretValue(key, column.vault, column.stage)\"\n                :vault=\"column.vault\"\n                :stage=\"column.stage\"\n                :showRename=\"false\"\n                :buttonClass=\"'opacity-0 group-hover:opacity-100'\"\n                @edit=\"editSecret\"\n                @copyValue=\"handleCopyValue\"\n                @copyTo=\"showCopyToStageDialog\"\n                @history=\"showHistoryDialog\"\n                @delete=\"showDeleteDialog\"\n                @refresh=\"loadDiff\"\n              />\n            </div>\n            <div v-else class=\"flex items-center justify-between\">\n              <span class=\"text-muted-foreground text-sm\">—</span>\n              <SecretActionsMenu\n                :secretKey=\"key\"\n                :secretValue=\"null\"\n                :vault=\"column.vault\"\n                :stage=\"column.stage\"\n                :showEdit=\"false\"\n                :showRename=\"false\"\n                :showCreate=\"true\"\n                :showCopyValue=\"false\"\n                :showCopyTo=\"false\"\n                :showDelete=\"false\"\n                :showHistory=\"false\"\n                :buttonClass=\"'opacity-0 group-hover:opacity-100'\"\n                @create=\"createSecret\"\n              />\n            </div>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <!-- Empty State -->\n    <div v-else-if=\"!loading && diffMatrix !== null && Object.keys(diffMatrix).length === 0\" class=\"text-center py-12 text-muted-foreground\">\n      <svg class=\"mx-auto h-12 w-12 mb-4 opacity-50\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"/>\n      </svg>\n      <p>No secrets found in the selected vaults and stages</p>\n    </div>\n\n    <!-- No Selection State -->\n    <div v-else-if=\"!loading && selectedCombinations.length === 0\" class=\"text-center py-12 text-muted-foreground\">\n      <svg class=\"mx-auto h-12 w-12 mb-4 opacity-50\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n              d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\"/>\n      </svg>\n      <p class=\"text-lg font-medium mb-2\">Select Vault/Stage Combinations</p>\n      <p class=\"text-sm\">Use the dropdown above to select at least one vault/stage combination</p>\n    </div>\n\n    <!-- Edit Secret Dialog -->\n    <SecretDialog\n      v-if=\"editingSecret\"\n      :secret=\"editingSecret.isNew ? null : editingSecret\"\n      :vault=\"editingSecret.vault\"\n      :stage=\"editingSecret.stage\"\n      :initialKey=\"editingSecret.isNew ? editingSecret.key : undefined\"\n      @success=\"handleSecretSaveSuccess\"\n      @close=\"editingSecret = null\"\n    />\n\n    <!-- Copy To Stage Modal -->\n    <div v-if=\"copyingSecret\" class=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\" @click.self=\"copyingSecret = null\">\n      <div class=\"bg-card border border-border rounded-lg p-6 w-full max-w-md\">\n        <div class=\"flex items-center justify-between mb-4\">\n          <h2 class=\"text-lg font-semibold\">Copy Secret</h2>\n          <button\n              @click=\"copyingSecret = null\"\n              class=\"p-1 rounded-md hover:bg-muted transition-colors\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"/>\n            </svg>\n          </button>\n        </div>\n        <div class=\"space-y-4\">\n          <div>\n            <label class=\"block text-sm font-medium mb-1\">Key</label>\n            <input\n                type=\"text\"\n                :value=\"copyingSecret?.key\"\n                disabled\n                class=\"w-full px-3 py-2 bg-input border border-border rounded-md text-sm opacity-50\"\n            />\n          </div>\n          <div>\n            <label class=\"block text-sm font-medium mb-1\">From</label>\n            <input\n                type=\"text\"\n                :value=\"`${copyingSecret?.vault} / ${copyingSecret?.stage}`\"\n                disabled\n                class=\"w-full px-3 py-2 bg-input border border-border rounded-md text-sm opacity-50\"\n            />\n          </div>\n          <div>\n            <label class=\"block text-sm font-medium mb-1\">Copy To</label>\n            <select v-model=\"copyTarget\" class=\"w-full px-3 py-2 bg-input border border-border rounded-md text-sm\">\n              <option value=\"\">Select destination...</option>\n              <option\n                  v-for=\"combo in availableCombinations\"\n                  :key=\"combo.key\"\n                  :value=\"combo.key\"\n                  :disabled=\"combo.key === `${copyingSecret?.vault}:${copyingSecret?.stage}`\"\n              >\n                {{ combo.vaultDisplay }} / {{ combo.stage }}\n              </option>\n            </select>\n          </div>\n        </div>\n        <div class=\"flex justify-end space-x-2 mt-6\">\n          <button\n              @click=\"copyingSecret = null; copyTarget = ''\"\n              class=\"px-4 py-2 text-sm border border-border rounded-md hover:bg-muted transition-colors\"\n          >\n            Cancel\n          </button>\n          <button\n              @click=\"executeCopy\"\n              :disabled=\"!copyTarget\"\n              class=\"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            Copy Secret\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Rename Dialog -->\n    <RenameDialog\n      v-if=\"renamingSecret\"\n      :currentKey=\"renamingSecret.key\"\n      :vault=\"renamingSecret.vault\"\n      :stage=\"renamingSecret.stage\"\n      @success=\"handleRenameSuccess\"\n      @close=\"renamingSecret = null\"\n    />\n    \n    <!-- Copy to Stage Dialog -->\n    <CopyToStageDialog\n      v-if=\"copyingSecretStage\"\n      :secretKey=\"copyingSecretStage.key\"\n      :currentVault=\"copyingSecretStage.vault\"\n      :currentStage=\"copyingSecretStage.stage\"\n      :vaults=\"availableVaults\"\n      :stages=\"availableStages\"\n      @copy=\"handleCopyToStage\"\n      @close=\"copyingSecretStage = null\"\n    />\n    \n    <!-- History Dialog -->\n    <HistoryDialog\n      v-if=\"historySecret\"\n      :secretKey=\"historySecret.key\"\n      :vault=\"historySecret.vault\"\n      :stage=\"historySecret.stage\"\n      @refresh=\"loadDiff\"\n      @close=\"historySecret = null\"\n    />\n    \n    <!-- Delete Confirm Dialog -->\n    <DeleteConfirmDialog\n      v-if=\"deletingSecret\"\n      :secretKey=\"deletingSecret.key\"\n      :vault=\"deletingSecret.vault\"\n      :stage=\"deletingSecret.stage\"\n      @success=\"handleDeleteSuccess\"\n      @close=\"deletingSecret = null\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport {ref, computed, onMounted, watch} from 'vue'\nimport {useToast} from '../composables/useToast'\nimport {useVault} from '../composables/useVault'\nimport {useSecrets} from '../composables/useSecrets'\nimport {maskValue} from '../utils/formatters'\nimport SecretActionsMenu from './SecretActionsMenu.vue'\nimport SecretDialog from './SecretDialog.vue'\nimport RenameDialog from './RenameDialog.vue'\nimport CopyToStageDialog from './CopyToStageDialog.vue'\nimport HistoryDialog from './HistoryDialog.vue'\nimport DeleteConfirmDialog from './DeleteConfirmDialog.vue'\n\nconst toast = useToast()\nconst { vaults: availableVaults, stages: availableStages, loadAll: loadVaultData } = useVault()\nconst { copySecretToStage } = useSecrets()\n\n// State\nconst selectedCombinations = ref([])\nconst availableCombinations = ref([])\nconst fullDiffMatrix = ref(null) // Store all data from server\nconst loading = ref(false)\nconst unmaskAll = ref(false)\nconst unmaskedRows = ref(new Set())\nconst showCombinationsDropdown = ref(false)\nconst activeCellMenu = ref(null)\nconst menuPosition = ref(null)\nconst activeMenuData = ref(null)\nconst editingSecret = ref(null)\nconst renamingSecret = ref(null)\nconst copyingSecretStage = ref(null)\nconst copyingSecret = ref(null)\nconst copyTarget = ref('')\nconst historySecret = ref(null)\nconst deletingSecret = ref(null)\nconst searchQuery = ref('')\n\n// Computed columns based on selected combinations\nconst activeColumns = computed(() => {\n  return selectedCombinations.value.map(key => {\n    const [vault, stage] = key.split(':')\n    // Find the vault display name\n    const vaultObj = availableVaults.value.find(v => (v.slug || v.name || v) === vault)\n    const vaultDisplay = vaultObj?.name || vaultObj?.display || vault\n    return {vault, stage, vaultDisplay}\n  })\n})\n\n// Save selections when they change\nwatch(selectedCombinations, (newVal) => {\n  localStorage.setItem('keep.diff.selections', JSON.stringify(newVal))\n}, {deep: true})\n\n// Filter the diff matrix based on selected combinations and search query\nconst diffMatrix = computed(() => {\n  if (!fullDiffMatrix.value) return {}\n  if (selectedCombinations.value.length === 0) return {}\n\n  const query = searchQuery.value.toLowerCase().trim()\n  const filteredDiff = {}\n  \n  for (const [key, vaultData] of Object.entries(fullDiffMatrix.value)) {\n    let hasSelectedCombination = false\n    const filteredVaultData = {}\n    \n    // Check if key matches search query\n    let matchesSearch = !query || key.toLowerCase().includes(query)\n\n    for (const [vault, stageData] of Object.entries(vaultData)) {\n      const filteredStageData = {}\n      for (const [stage, value] of Object.entries(stageData)) {\n        if (selectedCombinations.value.includes(`${vault}:${stage}`)) {\n          filteredStageData[stage] = value\n          hasSelectedCombination = true\n          \n          // Check if value matches search query (only for visible columns)\n          if (!matchesSearch && query && value) {\n            matchesSearch = value.toLowerCase().includes(query)\n          }\n        }\n      }\n      if (Object.keys(filteredStageData).length > 0) {\n        filteredVaultData[vault] = filteredStageData\n      }\n    }\n\n    // Only include if it has selected combinations AND matches search\n    if (hasSelectedCombination && matchesSearch) {\n      filteredDiff[key] = filteredVaultData\n    }\n  }\n\n  return filteredDiff\n})\n\n// Get sorted keys for display\nconst sortedKeys = computed(() => {\n  return Object.keys(diffMatrix.value).sort((a, b) => a.localeCompare(b))\n})\n\n// Get the status of a secret row\nfunction getRowStatus(key) {\n  if (!diffMatrix.value[key]) return 'incomplete'\n\n  const values = []\n  let totalExpected = activeColumns.value.length\n  let totalFound = 0\n\n  for (const column of activeColumns.value) {\n    const value = getSecretValue(key, column.vault, column.stage)\n    if (value !== null && value !== undefined) {\n      values.push(value)\n      totalFound++\n    }\n  }\n\n  // If not present in all combinations, it's incomplete\n  if (totalFound < totalExpected) {\n    return 'incomplete'\n  }\n\n  // If all values are identical, it's identical\n  if (new Set(values).size === 1) {\n    return 'identical'\n  }\n\n  // Otherwise, it's different\n  return 'different'\n}\n\n// Get the CSS class for a row based on its status\nfunction getRowClass(key, hover = true) {\n  const status = getRowStatus(key)\n  switch (status) {\n    case 'incomplete':\n      return 'bg-red-500/10 ' + (hover ? 'hover:bg-red-500/15' : '')\n    case 'identical':\n      return 'bg-green-500/10 ' + (hover ? 'hover:bg-green-500/15' : '')\n    case 'different':\n      return 'bg-yellow-500/10 ' + (hover ? 'hover:bg-yellow-500/15' : '')\n    default:\n      return 'hover:bg-muted/50'\n  }\n}\n\n\n// Close dropdowns when clicking outside\nonMounted(() => {\n  document.addEventListener('click', handleClickOutside)\n  loadInitialData()\n})\n\nfunction handleClickOutside(e) {\n  if (!e.target.closest('.relative')) {\n    showCombinationsDropdown.value = false\n  }\n  // Close menu if clicking outside of it\n  if (activeCellMenu.value && !e.target.closest('[data-menu-key]')) {\n    activeCellMenu.value = null\n    menuPosition.value = null\n    activeMenuData.value = null\n  }\n}\n\nasync function loadInitialData() {\n  try {\n    await loadVaultData()\n\n    // Build all combinations\n    availableCombinations.value = []\n    for (const vault of availableVaults.value) {\n      for (const stage of availableStages.value) {\n        const vaultSlug = vault.slug || vault.name || vault\n        availableCombinations.value.push({\n          key: `${vaultSlug}:${stage}`,\n          vault: vaultSlug,\n          vaultDisplay: vault.display || vault,\n          stage: stage\n        })\n      }\n    }\n\n    // Load saved selections or select all by default\n    const savedSelections = localStorage.getItem('keep.diff.selections')\n    if (savedSelections) {\n      try {\n        const saved = JSON.parse(savedSelections)\n        // Only use saved selections that are still valid\n        selectedCombinations.value = saved.filter(s =>\n            availableCombinations.value.some(c => c.key === s)\n        )\n      } catch (e) {\n        // If parsing fails, select all\n        selectedCombinations.value = availableCombinations.value.map(c => c.key)\n      }\n    } else {\n      // Select all by default\n      selectedCombinations.value = availableCombinations.value.map(c => c.key)\n    }\n\n    // Load diff automatically\n    await loadDiff()\n  } catch (error) {\n    console.error('Failed to load initial data:', error)\n    toast.error('Failed to load data', error.message)\n  }\n}\n\nasync function loadDiff() {\n  // Load ALL vaults and stages from the server once\n  const vaults = availableVaults.value.map(v => v.slug || v.name || v)\n  const stages = [...availableStages.value]\n\n  loading.value = true\n\n  try {\n    const data = await window.$api.getDiff(stages, vaults)\n    fullDiffMatrix.value = data.diff || {}\n  } catch (error) {\n    console.error('Failed to load diff:', error)\n    toast.error('Failed to load comparison', error.message)\n    fullDiffMatrix.value = {}\n  } finally {\n    loading.value = false\n  }\n}\n\nfunction getSecretValue(key, vault, stage) {\n  if (!diffMatrix.value[key]) return null\n  if (!diffMatrix.value[key][vault]) return null\n  return diffMatrix.value[key][vault][stage] || null\n}\n\nfunction getCellClass(key, vault, stage) {\n  const value = getSecretValue(key, vault, stage)\n  if (!value) return 'bg-muted/30'\n  return ''\n}\n\nfunction toggleRowMask(key) {\n  if (unmaskedRows.value.has(key)) {\n    unmaskedRows.value.delete(key)\n  } else {\n    unmaskedRows.value.add(key)\n  }\n}\n\nfunction getMaskedValue(key, vault, stage) {\n  const value = getSecretValue(key, vault, stage)\n  if (!value) return ''\n\n  // Check if row is unmasked or global unmask is on\n  if (unmaskAll.value || unmaskedRows.value.has(key)) {\n    return value\n  }\n\n  return maskValue(value, '•')\n}\n\n// Cell menu functionality is now handled by SecretActionsMenu component\n\nfunction createSecret(data) {\n  editingSecret.value = {key: data.key, vault: data.vault, stage: data.stage, value: '', isNew: true}\n}\n\nfunction editSecret(data) {\n  editingSecret.value = {key: data.key, vault: data.vault, stage: data.stage, value: data.value}\n}\n\nfunction showCopyToStageDialog(data) {\n  copyingSecretStage.value = {key: data.key, vault: data.vault, stage: data.stage, value: data.value}\n}\n\nfunction showHistoryDialog(data) {\n  historySecret.value = {key: data.key, vault: data.vault, stage: data.stage}\n}\n\nfunction showDeleteDialog(data) {\n  deletingSecret.value = {key: data.key, vault: data.vault, stage: data.stage}\n}\n\nfunction handleCopyValue(data) {\n  toast.success('Copied to clipboard', 'Secret value has been copied to your clipboard')\n}\n\nasync function handleDeleteSuccess() {\n  await loadDiff()\n  deletingSecret.value = null\n}\n\nfunction copyToStage(key, vault, stage) {\n  copyingSecret.value = {key, vault, stage, value: getSecretValue(key, vault, stage)}\n}\n\n// Delete secret is now handled by SecretActionsMenu component\n\nasync function handleSecretSaveSuccess() {\n  editingSecret.value = null\n  await loadDiff()\n}\n\nasync function executeCopy() {\n  if (!copyingSecret.value || !copyTarget.value) return\n\n  const [targetVault, targetStage] = copyTarget.value.split(':')\n\n  try {\n    await copySecretToStage(\n        copyingSecret.value.key,\n        targetStage,\n        targetVault,\n        copyingSecret.value.stage,\n        copyingSecret.value.vault\n    )\n    toast.success('Secret copied', `Copied '${copyingSecret.value.key}' to ${targetVault}:${targetStage}`)\n    copyingSecret.value = null\n    copyTarget.value = ''\n    await loadDiff()\n  } catch (error) {\n    toast.error('Copy failed', error.message)\n  }\n}\n\nfunction selectAll() {\n  selectedCombinations.value = availableCombinations.value.map(c => c.key)\n}\n\nfunction selectNone() {\n  selectedCombinations.value = []\n}\n\nasync function handleCopyToStage({ targetVault, targetStage }) {\n  try {\n    await copySecretToStage(\n      copyingSecretStage.value.key, \n      targetStage, \n      targetVault, \n      copyingSecretStage.value.stage,\n      copyingSecretStage.value.vault\n    )\n    toast.success('Secret copied', `Secret '${copyingSecretStage.value.key}' copied to ${targetVault}:${targetStage}`)\n    copyingSecretStage.value = null\n    await loadDiff()\n  } catch (error) {\n    console.error('Failed to copy secret:', error)\n    toast.error('Failed to copy secret', error.message)\n  }\n}\n\nasync function handleRenameSuccess() {\n  await loadDiff()\n  renamingSecret.value = null\n}\n\n</script>","<template>\n  <Teleport to=\"body\">\n    <div v-if=\"isOpen\" class=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\" @click.self=\"cancel\">\n      <div class=\"bg-card border border-border rounded-lg p-6 w-full max-w-md\">\n        <div class=\"flex items-start space-x-3 mb-4\">\n          <div class=\"flex-shrink-0 w-10 h-10 rounded-full bg-destructive/10 flex items-center justify-center\">\n            <svg class=\"w-5 h-5 text-destructive\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"/>\n            </svg>\n          </div>\n          <div class=\"flex-1\">\n            <h3 class=\"text-lg font-semibold mb-2\">{{ title }}</h3>\n            <p class=\"text-sm text-muted-foreground\">{{ message }}</p>\n          </div>\n        </div>\n        \n        <div class=\"flex justify-end space-x-2 mt-6\">\n          <button\n            @click=\"cancel\"\n            class=\"px-4 py-2 border border-border rounded-md hover:bg-muted transition-colors text-sm font-medium\"\n          >\n            Cancel\n          </button>\n          <button\n            @click=\"confirm\"\n            class=\"px-4 py-2 bg-destructive text-destructive-foreground rounded-md hover:bg-destructive/90 transition-colors text-sm font-medium\"\n          >\n            {{ confirmText }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </Teleport>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\n\nconst props = defineProps({\n  title: {\n    type: String,\n    default: 'Confirm Deletion'\n  },\n  message: {\n    type: String,\n    required: true\n  },\n  confirmText: {\n    type: String,\n    default: 'Delete'\n  }\n})\n\nconst emit = defineEmits(['confirm', 'cancel'])\n\nconst isOpen = ref(false)\n\nfunction open() {\n  isOpen.value = true\n}\n\nfunction confirm() {\n  emit('confirm')\n  isOpen.value = false\n}\n\nfunction cancel() {\n  emit('cancel')\n  isOpen.value = false\n}\n\ndefineExpose({\n  open,\n  close: cancel\n})\n</script>","import { createRouter, createWebHashHistory } from 'vue-router'\nimport SecretsTable from './components/SecretsTable.vue'\nimport DiffView from './components/DiffView.vue'\nimport SettingsView from './components/SettingsView.vue'\n\nconst routes = [\n  {\n    path: '/',\n    redirect: '/secrets'\n  },\n  {\n    path: '/secrets',\n    name: 'secrets',\n    component: SecretsTable\n  },\n  {\n    path: '/diff',\n    name: 'diff',\n    component: DiffView\n  },\n  {\n    path: '/settings',\n    name: 'settings',\n    component: SettingsView\n  }\n]\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes\n})\n\nexport default router","<template>\n  <div class=\"flex gap-6 mx-auto max-w-5xl\">\n    <!-- Left Sidebar Navigation -->\n    <div class=\"w-48 flex-shrink-0\">\n      <div class=\"space-y-1\">\n        <button\n          v-for=\"tab in tabs\"\n          :key=\"tab.id\"\n          @click=\"activeTab = tab.id\"\n          :class=\"[\n            'w-full px-4 py-2 rounded-md text-sm font-medium transition-colors text-left',\n            activeTab === tab.id\n              ? 'bg-muted text-foreground'\n              : 'text-muted-foreground hover:text-foreground hover:bg-muted/50'\n          ]\"\n        >\n          {{ tab.label }}\n        </button>\n      </div>\n    </div>\n\n    <!-- Main Content Area -->\n    <div class=\"flex-1\">\n      <!-- General Settings -->\n      <div v-if=\"activeTab === 'general'\" class=\"space-y-6\">\n        <div>\n          <h1 class=\"text-2xl font-semibold mb-2\">General Settings</h1>\n          <p class=\"text-sm text-muted-foreground\">Configure your Keep application settings</p>\n        </div>\n\n        <div class=\"border border-border rounded-lg p-6 space-y-4\">\n          <div>\n            <label class=\"block text-sm font-medium mb-2\">Application Name</label>\n            <input\n              v-model=\"settings.appName\"\n              type=\"text\"\n              class=\"w-full px-3 py-2 bg-input border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring\"\n              placeholder=\"MyApp\"\n            />\n            <p class=\"text-xs text-muted-foreground mt-1\">The name of your application</p>\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium mb-2\">Namespace</label>\n            <input\n              v-model=\"settings.namespace\"\n              type=\"text\"\n              class=\"w-full px-3 py-2 bg-input border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring\"\n              placeholder=\"my-app\"\n            />\n            <p class=\"text-xs text-muted-foreground mt-1\">All secrets will be prefixed with this namespace</p>\n          </div>\n\n          <div>\n            <label class=\"block text-sm font-medium mb-2\">Default Vault</label>\n            <select \n              v-model=\"settings.defaultVault\"\n              class=\"w-full px-3 py-2 bg-input border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring\"\n            >\n              <option value=\"\">Select default vault...</option>\n              <option v-for=\"vault in vaults\" :key=\"vault.slug\" :value=\"vault.slug\">\n                {{ vault.name }}\n              </option>\n            </select>\n            <p class=\"text-xs text-muted-foreground mt-1\">The default vault to use when none is specified</p>\n          </div>\n\n          <div class=\"pt-4 flex justify-end\">\n            <button\n              @click=\"saveGeneralSettings\"\n              class=\"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors text-sm font-medium\"\n            >\n              Save Changes\n            </button>\n          </div>\n        </div>\n\n        <!-- Server Information -->\n        <div>\n          <h2 class=\"text-lg font-medium mb-4\">Server Information</h2>\n          <div class=\"border border-border rounded-lg p-4 space-y-2 text-sm\">\n            <div class=\"flex items-center justify-between\">\n              <span class=\"text-muted-foreground\">Server URL</span>\n              <span class=\"font-mono\">{{ serverUrl }}</span>\n            </div>\n            <div class=\"flex items-center justify-between\">\n              <span class=\"text-muted-foreground\">Keep Version</span>\n              <span class=\"font-mono\">{{ keepVersion }}</span>\n            </div>\n            <div class=\"flex items-center justify-between\">\n              <span class=\"text-muted-foreground\">Authentication</span>\n              <span class=\"text-green-500\">Token Active</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Vaults Settings -->\n      <div v-if=\"activeTab === 'vaults'\" class=\"space-y-6\">\n        <div>\n          <h1 class=\"text-2xl font-semibold mb-2\">Vault Configuration</h1>\n          <p class=\"text-sm text-muted-foreground\">Manage your vault connections and settings</p>\n        </div>\n\n        <!-- Vault List -->\n        <div class=\"space-y-3\">\n          <div \n            v-for=\"vault in vaults\" \n            :key=\"vault.slug\"\n            class=\"border border-border rounded-lg p-4\"\n          >\n            <div class=\"flex items-start justify-between\">\n              <div class=\"flex-1\">\n                <div class=\"flex items-center space-x-3 mb-2\">\n                  <h3 class=\"font-medium\">{{ vault.name }}</h3>\n                  <span v-if=\"vault.isDefault\" class=\"px-2 py-0.5 bg-primary/10 text-primary text-xs rounded-full\">\n                    Default\n                  </span>\n                </div>\n                <div class=\"space-y-1 text-sm text-muted-foreground\">\n                  <p>Driver: <span class=\"font-mono\">{{ vault.driver }}</span></p>\n                  <p>Slug: <span class=\"font-mono\">{{ vault.slug }}</span></p>\n                </div>\n              </div>\n              <div class=\"flex items-center space-x-2\">\n                <button\n                  @click=\"editVault(vault)\"\n                  class=\"p-2 rounded-md hover:bg-muted transition-colors\"\n                >\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                  </svg>\n                </button>\n                <button\n                  @click=\"deleteVault(vault)\"\n                  class=\"p-2 rounded-md hover:bg-muted transition-colors text-destructive\"\n                >\n                  <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Add Vault Button -->\n        <div class=\"flex justify-between items-center pt-4\">\n          <button\n            @click=\"openAddVaultModal()\"\n            class=\"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors text-sm font-medium\"\n          >\n            Add New Vault\n          </button>\n          <button\n            @click=\"verifyAllVaults\"\n            :disabled=\"verifying\"\n            class=\"px-4 py-2 border border-border rounded-md hover:bg-muted transition-colors text-sm font-medium disabled:opacity-50\"\n          >\n            {{ verifying ? 'Verifying...' : 'Verify All Vaults' }}\n          </button>\n        </div>\n      </div>\n\n      <!-- Stages Settings -->\n      <div v-if=\"activeTab === 'stages'\" class=\"space-y-6\">\n        <div>\n          <h1 class=\"text-2xl font-semibold mb-2\">Stage Configuration</h1>\n          <p class=\"text-sm text-muted-foreground\">Manage your deployment stages and environments</p>\n        </div>\n\n        <div class=\"border border-border rounded-lg p-4\">\n          <div class=\"space-y-2\">\n            <div \n              v-for=\"stage in stages\" \n              :key=\"stage\"\n              class=\"flex items-center justify-between py-3 border-b border-border last:border-0\"\n            >\n              <span class=\"font-medium\">{{ stage }}</span>\n              <button\n                @click=\"removeStage(stage)\"\n                class=\"p-2 rounded-md hover:bg-muted transition-colors text-destructive\"\n              >\n                <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n          \n          <div class=\"flex items-center space-x-2 mt-4 pt-4 border-t border-border\">\n            <input\n              v-model=\"newStage\"\n              @keyup.enter=\"addStage\"\n              type=\"text\"\n              placeholder=\"Enter new stage name...\"\n              class=\"flex-1 px-3 py-2 bg-input border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring\"\n            />\n            <button\n              @click=\"addStage\"\n              :disabled=\"!newStage\"\n              class=\"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors text-sm font-medium disabled:opacity-50\"\n            >\n              Add Stage\n            </button>\n          </div>\n        </div>\n\n        <div class=\"bg-muted/30 rounded-lg p-4 text-sm text-muted-foreground\">\n          <p class=\"font-medium mb-1\">About Stages</p>\n          <p>Stages represent different deployment environments for your secrets. Common stages include development, staging, and production. System stages (local, staging, production) cannot be removed.</p>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Add/Edit Vault Modal -->\n  <div v-if=\"showVaultModal\" class=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\" @click.self=\"closeVaultModal\">\n    <div class=\"bg-card border border-border rounded-lg p-6 w-full max-w-md\">\n      <h2 class=\"text-lg font-semibold mb-4\">{{ editingVault ? 'Edit Vault' : 'Add New Vault' }}</h2>\n      \n      <div class=\"space-y-4\">\n        <div>\n          <label class=\"block text-sm font-medium mb-1\">Driver</label>\n          <select \n            v-model=\"vaultForm.driver\"\n            @change=\"onDriverChange\"\n            class=\"w-full px-3 py-2 bg-input border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring\"\n            :disabled=\"!!editingVault\"\n          >\n            <option value=\"\">Select driver...</option>\n            <option value=\"secretsmanager\">AWS Secrets Manager</option>\n            <option value=\"ssm\">AWS SSM Parameter Store</option>\n            <option value=\"test\">Test Vault</option>\n          </select>\n          <p class=\"text-xs text-muted-foreground mt-1\">{{ editingVault ? 'Driver cannot be changed after creation' : 'Select the backend vault type' }}</p>\n        </div>\n\n        <div v-if=\"vaultForm.driver || editingVault\">\n          <label class=\"block text-sm font-medium mb-1\">Name</label>\n          <input\n            v-model=\"vaultForm.name\"\n            type=\"text\"\n            class=\"w-full px-3 py-2 bg-input border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring\"\n            :placeholder=\"getDriverDefaults(vaultForm.driver).name\"\n          />\n          <p class=\"text-xs text-muted-foreground mt-1\">Friendly display name for this vault</p>\n        </div>\n\n        <div v-if=\"vaultForm.driver || editingVault\">\n          <label class=\"block text-sm font-medium mb-1\">Slug</label>\n          <input\n            v-model=\"vaultForm.slug\"\n            type=\"text\"\n            class=\"w-full px-3 py-2 bg-input border border-border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-ring\"\n            :placeholder=\"getDriverDefaults(vaultForm.driver).slug\"\n            :disabled=\"!!editingVault\"\n          />\n          <p class=\"text-xs text-muted-foreground mt-1\">{{ editingVault ? 'Slug cannot be changed after creation' : 'Unique identifier for this vault' }}</p>\n        </div>\n\n        <div v-if=\"vaultForm.driver || editingVault\" class=\"flex items-center space-x-2\">\n          <input\n            v-model=\"vaultForm.isDefault\"\n            type=\"checkbox\"\n            id=\"vault-default\"\n            class=\"rounded border-border\"\n          />\n          <label for=\"vault-default\" class=\"text-sm\">Set as default vault</label>\n        </div>\n      </div>\n\n      <div class=\"flex justify-end space-x-2 mt-6\">\n        <button\n          @click=\"closeVaultModal\"\n          class=\"px-4 py-2 text-sm border border-border rounded-md hover:bg-muted transition-colors\"\n        >\n          Cancel\n        </button>\n        <button\n          @click=\"saveVault\"\n          class=\"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors text-sm font-medium\"\n        >\n          {{ editingVault ? 'Save Changes' : 'Add Vault' }}\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <!-- Verification Results Modal -->\n  <div v-if=\"showVerificationModal\" class=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\" @click.self=\"showVerificationModal = false\">\n    <div class=\"bg-card border border-border rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto\">\n      <div class=\"flex items-center justify-between mb-4\">\n        <h2 class=\"text-lg font-semibold\">Vault Verification Results</h2>\n        <button\n          @click=\"showVerificationModal = false\"\n          class=\"p-1 rounded-md hover:bg-muted transition-colors\"\n        >\n          <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"/>\n          </svg>\n        </button>\n      </div>\n\n      <div v-if=\"verificationResults\" class=\"space-y-4\">\n        <div v-for=\"(result, vaultName) in verificationResults\" :key=\"vaultName\" \n             class=\"border border-border rounded-lg p-4\">\n          <div class=\"flex items-center justify-between mb-3\">\n            <h3 class=\"font-medium\">{{ getVaultDisplayName(vaultName) }}</h3>\n            <span :class=\"[\n              'px-2 py-1 rounded text-xs font-medium',\n              result.success ? 'bg-green-500/10 text-green-500' : 'bg-destructive/10 text-destructive'\n            ]\">\n              {{ result.success ? 'Connected' : 'Failed' }}\n            </span>\n          </div>\n          \n          <div v-if=\"result.success && result.permissions\" class=\"grid grid-cols-5 gap-2 text-sm\">\n            <div v-for=\"(status, permission) in result.permissions\" :key=\"permission\"\n                 class=\"flex items-center space-x-2\">\n              <svg v-if=\"status\" class=\"w-4 h-4 text-green-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\"/>\n              </svg>\n              <svg v-else class=\"w-4 h-4 text-destructive\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"/>\n              </svg>\n              <span :class=\"status ? 'text-muted-foreground' : 'text-destructive'\">\n                {{ permission }}\n              </span>\n            </div>\n          </div>\n          \n          <div v-else-if=\"result.error\" class=\"text-sm text-destructive mt-2\">\n            {{ result.error }}\n          </div>\n        </div>\n      </div>\n\n      <div v-else class=\"text-center py-8 text-muted-foreground\">\n        <div class=\"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-4\"></div>\n        Verifying vaults...\n      </div>\n\n      <div class=\"flex justify-end mt-6\">\n        <button\n          @click=\"showVerificationModal = false\"\n          class=\"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors text-sm font-medium\"\n        >\n          Close\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <!-- Delete Stage Confirmation Modal -->\n  <DeleteConfirmationModal\n    ref=\"deleteStageModal\"\n    title=\"Delete Stage\"\n    :message=\"`Are you sure you want to remove the stage '${stageToDelete}'?`\"\n    confirmText=\"Remove Stage\"\n    @confirm=\"confirmDeleteStage\"\n  />\n\n  <!-- Delete Vault Confirmation Modal -->\n  <DeleteConfirmationModal\n    ref=\"deleteVaultModal\"\n    title=\"Delete Vault\"\n    :message=\"`Are you sure you want to delete the vault '${vaultToDelete?.name}'?`\"\n    confirmText=\"Delete Vault\"\n    @confirm=\"confirmDeleteVault\"\n  />\n</template>\n\n<script setup>\nimport { ref, onMounted, computed } from 'vue'\nimport { useToast } from '../composables/useToast'\nimport DeleteConfirmationModal from './DeleteConfirmationModal.vue'\n\nconst toast = useToast()\n\n// Navigation\nconst tabs = [\n  { id: 'general', label: 'General' },\n  { id: 'vaults', label: 'Vaults' },\n  { id: 'stages', label: 'Stages' }\n]\nconst activeTab = ref('general')\n\n// General settings\nconst settings = ref({\n  appName: '',\n  namespace: '',\n  defaultVault: ''\n})\nconst keepVersion = ref('1.0.0-beta')\n\n// Vaults\nconst vaults = ref([])\nconst showVaultModal = ref(false)\nconst editingVault = ref(null)\nconst vaultForm = ref({\n  name: '',\n  slug: '',\n  driver: '',\n  isDefault: false\n})\nconst verifying = ref(false)\nconst showVerificationModal = ref(false)\nconst verificationResults = ref(null)\nconst vaultToDelete = ref(null)\nconst deleteVaultModal = ref(null)\n\n// Stages\nconst stages = ref([])\nconst newStage = ref('')\nconst stageToDelete = ref('')\nconst deleteStageModal = ref(null)\nconst serverUrl = computed(() => typeof window !== 'undefined' ? window.location.origin : '')\n\n// Helper functions\nfunction getVaultDisplayName(slug) {\n  const vault = vaults.value.find(v => v.slug === slug)\n  return vault ? `${vault.name} (${vault.slug})` : slug\n}\n\nfunction getDriverDefaults(driver) {\n  const defaults = {\n    secretsmanager: { name: 'AWS Secrets Manager', slug: 'aws-secrets' },\n    ssm: { name: 'AWS SSM Parameter Store', slug: 'aws-ssm' },\n    test: { name: 'Test Vault', slug: 'test' }\n  }\n  return defaults[driver] || { name: '', slug: '' }\n}\n\nfunction onDriverChange() {\n  if (!editingVault.value && vaultForm.value.driver) {\n    const defaults = getDriverDefaults(vaultForm.value.driver)\n    if (!vaultForm.value.name) {\n      vaultForm.value.name = defaults.name\n    }\n    if (!vaultForm.value.slug) {\n      vaultForm.value.slug = defaults.slug\n    }\n  }\n}\n\n// Lifecycle\nonMounted(async () => {\n  await loadSettings()\n  await loadVaults()\n  await loadStages()\n})\n\n// General Settings Functions\nasync function loadSettings() {\n  try {\n    const data = await window.$api.getSettings()\n    settings.value.appName = data.app_name || 'MyApp'\n    settings.value.namespace = data.namespace || ''\n    settings.value.defaultVault = data.default_vault || ''\n    keepVersion.value = data.keep_version || '1.0.0-beta'\n  } catch (error) {\n    console.error('Failed to load settings:', error)\n    toast.error('Failed to load settings', error.message)\n  }\n}\n\nasync function saveGeneralSettings() {\n  try {\n    await window.$api.updateSettings({\n      app_name: settings.value.appName,\n      namespace: settings.value.namespace,\n      default_vault: settings.value.defaultVault\n    })\n    toast.success('Settings saved', 'Your changes have been saved successfully')\n  } catch (error) {\n    toast.error('Failed to save settings', error.message)\n  }\n}\n\n// Vault Functions\nasync function loadVaults() {\n  try {\n    const data = await window.$api.listVaults()\n    vaults.value = data.vaults || []\n  } catch (error) {\n    console.error('Failed to load vaults:', error)\n    toast.error('Failed to load vaults', error.message)\n  }\n}\n\nfunction editVault(vault) {\n  editingVault.value = vault\n  vaultForm.value = {\n    name: vault.name,\n    slug: vault.slug,\n    driver: vault.driver,\n    isDefault: vault.isDefault || false\n  }\n  showVaultModal.value = true\n}\n\nfunction deleteVault(vault) {\n  vaultToDelete.value = vault\n  deleteVaultModal.value.open()\n}\n\nasync function confirmDeleteVault() {\n  if (!vaultToDelete.value) return\n  \n  try {\n    await window.$api.deleteVault(vaultToDelete.value.slug)\n    vaults.value = vaults.value.filter(v => v.slug !== vaultToDelete.value.slug)\n    toast.success('Vault deleted', `Vault \"${vaultToDelete.value.name}\" has been deleted`)\n  } catch (error) {\n    toast.error('Failed to delete vault', error.message)\n  } finally {\n    vaultToDelete.value = null\n  }\n}\n\nfunction openAddVaultModal() {\n  editingVault.value = null\n  vaultForm.value = {\n    name: '',\n    slug: '',\n    driver: '',\n    isDefault: false\n  }\n  showVaultModal.value = true\n}\n\nfunction closeVaultModal() {\n  showVaultModal.value = false\n  editingVault.value = null\n  vaultForm.value = {\n    name: '',\n    slug: '',\n    driver: '',\n    isDefault: false\n  }\n}\n\nasync function saveVault() {\n  try {\n    if (editingVault.value) {\n      await window.$api.updateVault(editingVault.value.slug, vaultForm.value)\n      const index = vaults.value.findIndex(v => v.slug === editingVault.value.slug)\n      if (index !== -1) {\n        vaults.value[index] = { ...vaultForm.value }\n      }\n      toast.success('Vault updated', `Vault \"${vaultForm.value.name}\" has been updated`)\n    } else {\n      await window.$api.addVault(vaultForm.value)\n      vaults.value.push({ ...vaultForm.value })\n      toast.success('Vault added', `Vault \"${vaultForm.value.name}\" has been added`)\n    }\n    closeVaultModal()\n  } catch (error) {\n    toast.error('Failed to save vault', error.message)\n  }\n}\n\nasync function verifyAllVaults() {\n  verifying.value = true\n  showVerificationModal.value = true\n  verificationResults.value = null\n  \n  try {\n    const data = await window.$api.verifyVaults()\n    const results = data.results || {}\n    \n    // Results now come with permissions from backend\n    verificationResults.value = results\n    \n    const failedVaults = Object.entries(results).filter(([_, result]) => !result.success)\n    if (failedVaults.length === 0) {\n      toast.success('All vaults verified', 'All vaults are properly configured and accessible')\n    } else {\n      toast.error('Verification failed', `${failedVaults.length} vault(s) failed verification`)\n    }\n  } catch (error) {\n    toast.error('Failed to verify vaults', error.message)\n    showVerificationModal.value = false\n  } finally {\n    verifying.value = false\n  }\n}\n\n// Stage Functions\nasync function loadStages() {\n  try {\n    const data = await window.$api.listStages()\n    stages.value = data.stages || []\n  } catch (error) {\n    console.error('Failed to load stages:', error)\n    toast.error('Failed to load stages', error.message)\n  }\n}\n\nasync function addStage() {\n  if (!newStage.value) return\n  \n  if (stages.value.includes(newStage.value)) {\n    toast.error('Stage exists', `Stage \"${newStage.value}\" already exists`)\n    return\n  }\n  \n  try {\n    await window.$api.addStage(newStage.value)\n    stages.value.push(newStage.value)\n    toast.success('Stage added', `Stage \"${newStage.value}\" has been added`)\n    newStage.value = ''\n  } catch (error) {\n    toast.error('Failed to add stage', error.message)\n  }\n}\n\nfunction removeStage(stage) {\n  stageToDelete.value = stage\n  deleteStageModal.value.open()\n}\n\nasync function confirmDeleteStage() {\n  if (!stageToDelete.value) return\n  \n  try {\n    await window.$api.removeStage(stageToDelete.value)\n    const index = stages.value.indexOf(stageToDelete.value)\n    if (index > -1) {\n      stages.value.splice(index, 1)\n      toast.success('Stage removed', `Stage \"${stageToDelete.value}\" has been removed`)\n    }\n  } catch (error) {\n    toast.error('Failed to remove stage', error.message)\n  } finally {\n    stageToDelete.value = ''\n  }\n}\n</script>","import { createApp } from 'vue'\nimport './style.css'\nimport App from './App.vue'\nimport router from './router'\nimport { api } from './services/api'\n\n// Make API available globally\nwindow.$api = api\n\ncreateApp(App)\n  .use(router)\n  .mount('#app')"],"names":["props","__props","variantClasses","computed","variants","default","success","destructive","toast","variant","icon","template","_createElementBlock","class","_normalizeClass","value","_createElementVNode","_hoisted_1","_openBlock","_hoisted_2","_createBlock","_resolveDynamicComponent","_hoisted_3","title","_hoisted_4","_toDisplayString","description","_hoisted_5","onClick","_cache","$event","$emit","id","fill","stroke","viewBox","d","toasts","dismiss","useToast","_createVNode","_TransitionGroup","name","tag","_Fragment","_renderList","_unref","Toast","key","onDismiss","tabs","label","path","appName","ref","keepVersion","onMounted","async","settings","window","$api","getSettings","app_name","keep_version","error","loadSettings","ToastContainer","height","width","xmlns","_hoisted_6","_hoisted_7","tab","_component_router_link","to","custom","_withCtx","isActive","$router","push","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_component_router_view","emit","__emit","vaultOpen","stageOpen","vaultDisplay","vault","vaultObj","_a","vaults","find","v","slug","display","document","addEventListener","e","target","closest","selectVault","stage","stages","s","selectStage","displayValue","masked","length","substring","repeat","api","constructor","this","baseUrl","token","KEEP_AUTH_TOKEN","request","options","response","fetch","headers","ok","json","catch","Error","status","listSecrets","unmask","getSecret","encodeURIComponent","createSecret","method","body","JSON","stringify","updateSecret","deleteSecret","renameSecret","oldKey","newKey","copySecretToStage","targetStage","targetVault","sourceStage","sourceVault","searchSecrets","query","getSecretHistory","limit","updateSettings","listVaults","addVault","updateVault","deleteVault","listStages","addStage","removeStage","verifyVaults","getDiff","join","exportSecrets","format","analyzeImport","content","only","except","executeImport","strategy","dry_run","useSecrets","secrets","loading","loadSecrets","err","message","clearError","form","reactive","keyError","saveError","validateKey","includes","test","save","secret","watch","newSecret","initialKey","immediate","onSubmit","type","disabled","placeholder","required","_vModelText","rows","_hoisted_12","currentKey","trim","isValid","handleRename","onKeyup","targetCombination","availableCombinations","combinations","handleCopy","split","secretKey","currentVault","currentStage","combo","history","unmasked","toggleUnmask","data","loadHistory","_hoisted_15","_hoisted_14","_hoisted_16","entry","index","version","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","maskValue","_hoisted_22","dataType","_hoisted_23","_hoisted_24","modifiedDate","_hoisted_25","modifiedBy","_hoisted_26","_hoisted_27","handleDelete","isOpen","menuStyle","buttonRef","toggleMenu","event","stopPropagation","dispatchEvent","CustomEvent","rect","currentTarget","getBoundingClientRect","menuWidth","menuHeight","showEdit","showRename","showCreate","showCopyValue","showCopyTo","showHistory","showDelete","filter","Boolean","left","right","top","bottom","scrollY","innerHeight","setTimeout","handleEdit","secretValue","handleCreate","handleCopyValue","navigator","clipboard","writeText","handleCopyTo","handleHistory","handleClickOutside","contains","handleCloseAllMenus","handleScroll","onUnmounted","removeEventListener","buttonClass","_Teleport","style","step","fileName","envContent","isDragging","filters","analyzing","analysis","total","new","existing","invalid","empty","conflictStrategy","dryRun","importing","importResults","imported","skipped","failed","results","errors","analysisSecrets","handleFileUpload","file","files","processFile","handleDrop","preventDefault","dataTransfer","match","reader","FileReader","onload","result","onerror","readAsText","closeWizard","getStatusClass","getStatusLabel","getResultStatusClass","getResultStatusLabel","info","reason","onDrop","onDragover","onDragenter","onDragleave","onChange","accept","$refs","fileInput","click","_hoisted_13","for","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","revision","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","selectedFormat","filename","formats","secretCount","defaultFilename","timestamp","Date","toISOString","downloadSecrets","jsonData","forEach","escapeCsvField","modified","String","replace","formatEnvValue","blob","Blob","url","URL","createObjectURL","link","createElement","href","download","appendChild","removeChild","revokeObjectURL","field","fmt","menuOpen","showImportWizard","showExportModal","handleImported","button","menu","onBeforeUnmount","ImportWizard","onImported","onClose","ExportModal","useVault","defaultVault","isDefault","_b","defaultStage","default_stage","loadVaults","loadStages","loadAll","vaultsRes","stagesRes","settingsRes","Promise","all","loadVaultData","allSecrets","fetchSecrets","localStorage","getItem","searchQuery","unmaskAll","unmaskedKeys","Set","showAddDialog","editingSecret","renamingSecret","copyingSecret","historySecret","deletingSecret","toLowerCase","keyMatches","valueMatches","editSecret","handleSecretSaveSuccess","closeDialog","showRenameDialog","showCopyToStageDialog","showHistoryDialog","showDeleteDialog","handleDeleteSuccess","handleRenameSuccess","handleCopyToStage","default_vault","setItem","loadVaultsAndStages","VaultStageSelector","TableActionsMenu","SecretValue","has","onToggle","toggleMask","delete","add","SecretActionsMenu","onEdit","onRename","onCopyValue","onCopyTo","onHistory","onDelete","onRefresh","SecretDialog","onSuccess","RenameDialog","CopyToStageDialog","onCopy","HistoryDialog","DeleteConfirmDialog","availableVaults","availableStages","selectedCombinations","fullDiffMatrix","unmaskedRows","showCombinationsDropdown","activeCellMenu","menuPosition","activeMenuData","copyingSecretStage","copyTarget","activeColumns","map","newVal","deep","diffMatrix","filteredDiff","vaultData","Object","entries","hasSelectedCombination","filteredVaultData","matchesSearch","stageData","filteredStageData","keys","sortedKeys","sort","a","b","localeCompare","getRowClass","hover","values","totalExpected","totalFound","column","getSecretValue","size","getRowStatus","loadDiff","diff","getCellClass","getMaskedValue","isNew","executeCopy","selectAll","c","selectNone","vaultSlug","savedSelections","saved","parse","some","loadInitialData","cx","cy","r","toggleRowMask","onCreate","_c","confirm","cancel","__expose","open","close","confirmText","routes","redirect","component","SecretsTable","DiffView","activeTab","namespace","showVaultModal","editingVault","vaultForm","driver","verifying","showVerificationModal","verificationResults","vaultToDelete","deleteVaultModal","newStage","stageToDelete","deleteStageModal","serverUrl","location","origin","getVaultDisplayName","getDriverDefaults","secretsmanager","ssm","onDriverChange","defaults","saveGeneralSettings","confirmDeleteVault","closeVaultModal","saveVault","findIndex","verifyAllVaults","failedVaults","_","confirmDeleteStage","indexOf","splice","_vModelSelect","editVault","_hoisted_45","_hoisted_46","_vModelCheckbox","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","vaultName","_hoisted_51","_hoisted_52","permissions","_hoisted_53","permission","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","DeleteConfirmationModal","onConfirm","router","createRouter","createWebHashHistory","createApp","App","use","mount"],"mappings":"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"}